# Plan: 05-04 Study Page Strings

---
phase: 05-string-extraction
plan: 04
type: execute
wave: 2
depends_on: [05-02]
files_modified:
  - pages/Study.tsx
  - components/DeckTable.tsx
  - components/EmptyDeckPopover.tsx
  - public/locales/pt-BR/study.json
autonomous: true

must_haves:
  truths:
    - "Study page displays all text in Portuguese"
    - "DeckTable headers show Portuguese labels"
    - "Empty state shows Portuguese messages"
  artifacts:
    - path: "pages/Study.tsx"
      provides: "Study page with useTranslation hook"
      contains: "useTranslation('study')"
    - path: "components/DeckTable.tsx"
      provides: "DeckTable with translated headers"
      contains: "useTranslation"
    - path: "public/locales/pt-BR/study.json"
      provides: "Portuguese translations for study namespace"
      contains: "allBooks"
  key_links:
    - from: "pages/Study.tsx"
      to: "public/locales/pt-BR/study.json"
      via: "useTranslation hook"
      pattern: "t\\(['\"]allBooks\\."
---

<objective>
Extract all Study page strings using the study namespace.

Purpose: Complete study page translation - Requirement TRANS-04.
Output: Fully translated Study.tsx, DeckTable.tsx, EmptyDeckPopover.tsx with strings in study.json
</objective>

<execution_context>
@C:\Users\lbp80\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\lbp80\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@pages/Study.tsx
@components/DeckTable.tsx
@components/EmptyDeckPopover.tsx
@public/locales/pt-BR/study.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add useTranslation to Study.tsx and replace all strings</name>
  <files>pages/Study.tsx</files>
  <action>
Import useTranslation hook in Study.tsx:
```typescript
import { useTranslation } from 'react-i18next';
const { t } = useTranslation('study');
```

Replace Study page header:
- "Study" -> t('title')
- "Start your daily study session..." -> t('subtitle')
- "Loading..." -> t('loading')

Replace "Study All Books" button:
- "Study All Books" -> t('allBooks.title')
- "Review cards from your entire library" -> t('allBooks.subtitle')
- "Due" -> t('stats.due')
- "New" -> t('stats.new')
- "Learning" -> t('stats.learning')
- "Review" -> t('stats.review')
- "Total" -> t('stats.total')

Replace individual books section:
- "Study by Book" -> t('byBook.title')
- "No books imported yet" -> t('emptyState.noBooks')
- "Import your Kindle highlights to start studying" -> t('emptyState.importPrompt')
  </action>
  <verify>grep -n "useTranslation" pages/Study.tsx && grep -c "t('" pages/Study.tsx</verify>
  <done>Study.tsx uses useTranslation, all headers, buttons, and stats use t() calls</done>
</task>

<task type="auto">
  <name>Task 2: Add useTranslation to DeckTable and EmptyDeckPopover</name>
  <files>components/DeckTable.tsx, components/EmptyDeckPopover.tsx</files>
  <action>
Import useTranslation in DeckTable.tsx and replace table headers:
- "Deck" -> t('study:table.deck')
- "New" -> t('study:table.new')
- "Learning" -> t('study:table.learning')
- "Review" -> t('study:table.review')
- "Total" -> t('study:table.total')

Import useTranslation in EmptyDeckPopover.tsx and replace strings:
- "No cards available" -> t('study:emptyDeck.title')
- "All reviews for this deck are completed today. Come back tomorrow for more!" -> t('study:emptyDeck.message')
- "Got it" -> t('common:buttons.confirm')

Check StudyHeatmap.tsx for any hardcoded strings (month names, labels) and extract if found.
  </action>
  <verify>grep -n "useTranslation" components/DeckTable.tsx components/EmptyDeckPopover.tsx</verify>
  <done>DeckTable.tsx and EmptyDeckPopover.tsx use useTranslation with translated strings</done>
</task>

<task type="auto">
  <name>Task 3: Update study.json with all Study page keys</name>
  <files>public/locales/pt-BR/study.json</files>
  <action>
Update public/locales/pt-BR/study.json with all keys:
```json
{
  "title": "Estudar",
  "subtitle": "Inicie sua sessao de estudo diaria com todos os livros, ou escolha um livro especifico abaixo.",
  "loading": "Carregando...",
  "allBooks": {
    "title": "Estudar Todos os Livros",
    "subtitle": "Revise cartoes de toda sua biblioteca"
  },
  "byBook": {
    "title": "Estudar por Livro"
  },
  "stats": {
    "due": "Pendentes",
    "new": "Novos",
    "learning": "Aprendendo",
    "review": "Revisao",
    "total": "Total"
  },
  "table": {
    "deck": "Baralho",
    "new": "Novos",
    "learning": "Aprendendo",
    "review": "Revisao",
    "total": "Total"
  },
  "emptyState": {
    "noBooks": "Nenhum livro importado ainda",
    "importPrompt": "Importe seus destaques do Kindle para comecar a estudar"
  },
  "emptyDeck": {
    "title": "Nenhum cartao disponivel",
    "message": "Todas as revisoes deste baralho foram concluidas hoje. Volte amanha!"
  }
}
```
  </action>
  <verify>npm run dev -- --open & sleep 5 && echo "Check study page renders in Portuguese"</verify>
  <done>study.json contains all keys, Study page displays Portuguese text</done>
</task>

</tasks>

<verification>
- [ ] Study page displays all text in Portuguese
- [ ] DeckTable headers show Portuguese labels
- [ ] EmptyDeckPopover shows Portuguese message
- [ ] Empty state (no books) shows Portuguese text
- [ ] No console warnings about missing translation keys
</verification>

<success_criteria>
- useTranslation hook used in Study.tsx, DeckTable.tsx, EmptyDeckPopover.tsx
- All visible strings wrapped with t() function
- study.json updated with all keys
- Stats labels consistent between All Books button and DeckTable
</success_criteria>

<output>
After completion, create `.planning/phases/05-string-extraction/05-04-SUMMARY.md`
</output>
