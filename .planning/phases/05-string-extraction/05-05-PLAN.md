# Plan: 05-05 Highlights Page Core Strings

---
phase: 05-string-extraction
plan: 05
type: execute
wave: 3
depends_on: [05-02]
files_modified:
  - pages/Highlights.tsx
  - public/locales/pt-BR/highlights.json
autonomous: true

must_haves:
  truths:
    - "Highlights page header displays in Portuguese"
    - "All filters and dropdowns show Portuguese options"
    - "Table headers display in Portuguese"
  artifacts:
    - path: "pages/Highlights.tsx"
      provides: "Highlights page with useTranslation hook"
      contains: "useTranslation('highlights')"
    - path: "public/locales/pt-BR/highlights.json"
      provides: "Portuguese translations for highlights namespace"
      contains: "filters"
  key_links:
    - from: "pages/Highlights.tsx"
      to: "public/locales/pt-BR/highlights.json"
      via: "useTranslation hook"
      pattern: "t\\(['\"]filters\\."
---

<objective>
Extract core Highlights page strings (header, filters, table, pagination) using the highlights namespace.

Purpose: Complete highlights page core translation - Requirement TRANS-03 (part 1).
Output: Fully translated Highlights.tsx with strings in highlights.json
</objective>

<execution_context>
@C:\Users\lbp80\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\lbp80\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@pages/Highlights.tsx
@public/locales/pt-BR/highlights.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add useTranslation to Highlights.tsx and replace header/filter strings</name>
  <files>pages/Highlights.tsx</files>
  <action>
Import useTranslation hook in Highlights.tsx:
```typescript
import { useTranslation } from 'react-i18next';
const { t } = useTranslation('highlights');
```

Replace header strings:
- "Highlights" -> t('title')
- "destaques de X livros, ultimo destaque em..." -> Use interpolation with t()
- "Manage Tags" button -> t('actions.manageTags')

Replace filter/toolbar strings:
- "Search highlights..." placeholder -> t('filters.searchPlaceholder')
- "All Books" -> t('filters.allBooks')
- "All Tags" -> t('filters.allTags')
- "All Status" -> t('filters.allStatus')
- "In Study" -> t('filters.inStudy')
- "Not in Study" -> t('filters.notInStudy')
- "Date" sort button -> t('filters.sortDate')
- "Search books..." placeholder -> t('filters.searchBooks')
- "Search tags..." placeholder -> t('filters.searchTags')
- "No book found." -> t('filters.noBookFound')
- "No tag found." -> t('filters.noTagFound')

Replace table header strings:
- "Livro / Autor" -> t('table.bookAuthor')
- "Destaque" -> t('table.highlight')
- "Nota" -> t('table.note')
- "Tags" -> t('table.tags')
- "Data" -> t('table.date')
- "Status" -> t('table.status')

Replace bulk action strings:
- "X selected" -> t('bulk.selected', { count })
- "Tag" button -> t('bulk.tag')
- "Delete" button -> t('bulk.delete')
- "Assign to X items" -> t('bulk.assignTo', { count })
- "No tags available" -> t('bulk.noTags')
- Confirm dialog: "Are you sure you want to delete X highlights?" -> t('bulk.deleteConfirm', { count })

Replace empty state and pagination:
- "No highlights match your filters." -> t('emptyState.noResults')
- "Page X of Y" -> t('pagination.page', { current, total })
- "Previous" -> t('pagination.previous')
- "Next" -> t('pagination.next')
- "nunca" for null dates -> t('dates.never')
  </action>
  <verify>grep -n "useTranslation" pages/Highlights.tsx && grep -c "t('" pages/Highlights.tsx</verify>
  <done>Highlights.tsx uses useTranslation, all header, filter, table, and pagination strings use t() calls</done>
</task>

<task type="auto">
  <name>Task 2: Update highlights.json with all core keys</name>
  <files>public/locales/pt-BR/highlights.json</files>
  <action>
Update public/locales/pt-BR/highlights.json with all core keys:
```json
{
  "title": "Destaques",
  "actions": {
    "manageTags": "Gerenciar Tags"
  },
  "filters": {
    "searchPlaceholder": "Buscar destaques...",
    "allBooks": "Todos os Livros",
    "allTags": "Todas as Tags",
    "allStatus": "Todos os Status",
    "inStudy": "Em Estudo",
    "notInStudy": "Fora de Estudo",
    "sortDate": "Data",
    "searchBooks": "Buscar livros...",
    "searchTags": "Buscar tags...",
    "noBookFound": "Nenhum livro encontrado.",
    "noTagFound": "Nenhuma tag encontrada."
  },
  "table": {
    "bookAuthor": "Livro / Autor",
    "highlight": "Destaque",
    "note": "Nota",
    "tags": "Tags",
    "date": "Data",
    "status": "Status"
  },
  "bulk": {
    "selected": "{{count}} selecionados",
    "selected_one": "{{count}} selecionado",
    "tag": "Tag",
    "delete": "Excluir",
    "assignTo": "Atribuir a {{count}} itens",
    "noTags": "Nenhuma tag disponivel",
    "deleteConfirm": "Tem certeza que deseja excluir {{count}} destaques?"
  },
  "emptyState": {
    "noResults": "Nenhum destaque corresponde aos filtros."
  },
  "pagination": {
    "page": "Pagina {{current}} de {{total}}",
    "previous": "Anterior",
    "next": "Proximo"
  },
  "dates": {
    "never": "nunca"
  }
}
```
  </action>
  <verify>npm run dev -- --open & sleep 5 && echo "Check highlights page filters and table render in Portuguese"</verify>
  <done>highlights.json contains all core keys, Highlights page displays Portuguese text</done>
</task>

</tasks>

<verification>
- [ ] Highlights page header displays in Portuguese
- [ ] All filters and dropdowns show Portuguese options
- [ ] Table headers display in Portuguese
- [ ] Bulk action bar shows Portuguese labels
- [ ] Pagination controls show Portuguese text
- [ ] No console warnings about missing translation keys
</verification>

<success_criteria>
- useTranslation hook used in Highlights.tsx
- All visible strings wrapped with t() function
- Bulk action confirmations translated
- highlights.json contains all core page keys
</success_criteria>

<output>
After completion, create `.planning/phases/05-string-extraction/05-05-SUMMARY.md`
</output>
