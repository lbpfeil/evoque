# Plan: 05-07 Settings Import and Library Tabs Strings

---
phase: 05-string-extraction
plan: 07
type: execute
wave: 5
depends_on: [05-02]
files_modified:
  - pages/Settings.tsx
  - public/locales/pt-BR/settings.json
autonomous: true

must_haves:
  truths:
    - "Settings page header and tabs display in Portuguese"
    - "Import tab instructions fully translated"
    - "Library tab book cards show Portuguese labels"
  artifacts:
    - path: "pages/Settings.tsx"
      provides: "Settings page with useTranslation hook"
      contains: "useTranslation('settings')"
    - path: "public/locales/pt-BR/settings.json"
      provides: "Portuguese translations for settings namespace"
      contains: "import"
  key_links:
    - from: "pages/Settings.tsx"
      to: "public/locales/pt-BR/settings.json"
      via: "useTranslation hook"
      pattern: "t\\(['\"]import\\."
---

<objective>
Extract Settings page header, tabs, Import tab, and Library tab strings using the settings namespace.

Purpose: Complete settings page translation (Import/Library) - Requirement TRANS-06 (part 1).
Output: Fully translated Settings.tsx Import and Library tabs with strings in settings.json
</objective>

<execution_context>
@C:\Users\lbp80\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\lbp80\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@pages/Settings.tsx
@public/locales/pt-BR/settings.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add useTranslation to Settings and replace header/tab/Import strings</name>
  <files>pages/Settings.tsx</files>
  <action>
Import useTranslation hook in Settings.tsx:
```typescript
import { useTranslation } from 'react-i18next';
const { t } = useTranslation('settings');
```

Replace header strings:
- "Settings" -> t('title')
- "Manage your library, import highlights, and preferences." -> t('subtitle')

Replace tab labels (tabs array):
```typescript
const tabs = [
  { id: 'import' as TabId, name: t('tabs.import'), icon: Upload },
  { id: 'library' as TabId, name: t('tabs.library'), icon: Library },
  { id: 'account' as TabId, name: t('tabs.account'), icon: User },
  { id: 'preferences' as TabId, name: t('tabs.preferences'), icon: Sliders },
];
```

Replace Import tab strings:
- "Import Highlights" -> t('import.title')
- "Upload 'My Clippings.txt', Kindle PDF export, or Anki TSV file" -> t('import.subtitle')
- Success message interpolation for imported counts -> t('import.success', { books, highlights })
- "View Library ->" -> t('import.viewLibrary')
- "Error: " prefix -> t('import.error')
- "Processing highlights..." -> t('import.processing')
- "Drag & drop file here" -> t('import.dragDrop')
- "or browse to upload" -> t('import.browseUpload')
- ".txt, .pdf, or .tsv" -> t('import.fileTypes')
- "Instructions" -> t('import.instructions.title')
- All instruction text for Option 1, 2, 3 -> Nested keys under import.instructions

Replace Library tab strings:
- "Book Library" -> t('library.title')
- "X books in your collection" -> t('library.bookCount', { count })
- "No books in library. Import highlights to get started." -> t('library.empty')
- "Go to Import Tab ->" -> t('library.goToImport')
- "Delete book" title -> t('library.deleteBook')
- "X highlights" -> t('library.highlightsCount', { count })
- "Last: DATE" -> t('library.lastImport', { date })
- "Book Settings" -> t('library.bookSettings')
- "Daily Review Limit:" -> t('library.dailyLimit')
- "cards/day" -> t('library.cardsPerDay')
- "Initial Ease Factor:" -> t('library.easeFactor')
- "(new cards)" -> t('library.newCards')
- "Leave empty to use global defaults" -> t('library.useDefaults')
  </action>
  <verify>grep -n "useTranslation" pages/Settings.tsx && grep -c "t('import" pages/Settings.tsx</verify>
  <done>Settings.tsx uses useTranslation, header, tabs, Import, and Library strings use t() calls</done>
</task>

<task type="auto">
  <name>Task 2: Update settings.json with header, tabs, Import, and Library keys</name>
  <files>public/locales/pt-BR/settings.json</files>
  <action>
Update public/locales/pt-BR/settings.json with keys:
```json
{
  "title": "Configuracoes",
  "subtitle": "Gerencie sua biblioteca, importe destaques e configure preferencias.",
  "tabs": {
    "import": "Importar",
    "library": "Biblioteca",
    "account": "Conta",
    "preferences": "Preferencias"
  },
  "import": {
    "title": "Importar Destaques",
    "subtitle": "Envie 'My Clippings.txt', PDF do Kindle ou arquivo TSV do Anki",
    "success": "Importado com sucesso: {{books}} livros, {{highlights}} destaques",
    "viewLibrary": "Ver Biblioteca ->",
    "error": "Erro: ",
    "processing": "Processando destaques...",
    "dragDrop": "Arraste e solte o arquivo aqui",
    "browseUpload": "ou clique para selecionar",
    "fileTypes": ".txt, .pdf ou .tsv",
    "instructions": {
      "title": "Instrucoes",
      "option1Title": "Opcao 1: My Clippings.txt",
      "option1Text": "Conecte seu Kindle ao computador e localize o arquivo 'My Clippings.txt' na pasta documents.",
      "option2Title": "Opcao 2: PDF do Kindle",
      "option2Text": "No app Kindle, selecione 'Exportar Anotacoes' e escolha o formato PDF.",
      "option3Title": "Opcao 3: Anki TSV",
      "option3Text": "Exporte seus cartoes do Anki no formato TSV (valores separados por tab)."
    }
  },
  "library": {
    "title": "Biblioteca de Livros",
    "bookCount": "{{count}} livros na sua colecao",
    "bookCount_one": "{{count}} livro na sua colecao",
    "empty": "Nenhum livro na biblioteca. Importe destaques para comecar.",
    "goToImport": "Ir para Importar ->",
    "deleteBook": "Excluir livro",
    "highlightsCount": "{{count}} destaques",
    "highlightsCount_one": "{{count}} destaque",
    "lastImport": "Ultimo: {{date}}",
    "bookSettings": "Configuracoes do Livro",
    "dailyLimit": "Limite Diario de Revisao:",
    "cardsPerDay": "cartoes/dia",
    "easeFactor": "Fator de Facilidade Inicial:",
    "newCards": "(cartoes novos)",
    "useDefaults": "Deixe vazio para usar padroes globais"
  }
}
```
  </action>
  <verify>npm run dev -- --open & sleep 5 && echo "Check settings import and library tabs render in Portuguese"</verify>
  <done>settings.json contains header, tabs, import, and library keys, Settings page displays Portuguese text</done>
</task>

</tasks>

<verification>
- [ ] Settings page header and tabs display in Portuguese
- [ ] Import tab instructions fully translated
- [ ] Library tab book cards show Portuguese labels
- [ ] File drop zone shows Portuguese text
- [ ] No console warnings about missing translation keys
</verification>

<success_criteria>
- useTranslation hook used in Settings.tsx
- Header, tabs, Import tab, and Library tab fully translated
- settings.json contains import and library sections
</success_criteria>

<output>
After completion, create `.planning/phases/05-string-extraction/05-07-SUMMARY.md`
</output>
