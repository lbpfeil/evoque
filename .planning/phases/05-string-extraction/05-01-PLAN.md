# Plan: 05-01 Login and Auth Strings

---
phase: 05-string-extraction
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - pages/Login.tsx
  - public/locales/pt-BR/auth.json
autonomous: true

must_haves:
  truths:
    - "Login page displays all text in Portuguese"
    - "Both login and signup modes show translated text"
    - "Error messages display in Portuguese"
  artifacts:
    - path: "pages/Login.tsx"
      provides: "Login component with useTranslation hook"
      contains: "useTranslation('auth')"
    - path: "public/locales/pt-BR/auth.json"
      provides: "Portuguese translations for auth namespace"
      contains: "login"
  key_links:
    - from: "pages/Login.tsx"
      to: "public/locales/pt-BR/auth.json"
      via: "useTranslation hook"
      pattern: "t\\(['\"]login\\."
---

<objective>
Extract all hardcoded strings from the Login page and translate them using the auth namespace.

Purpose: This is the first user-facing page and establishes the pattern for all subsequent extractions.
Output: Fully translated Login.tsx with all strings in auth.json
</objective>

<execution_context>
@C:\Users\lbp80\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\lbp80\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@pages/Login.tsx
@public/locales/pt-BR/auth.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add useTranslation hook and replace all Login page strings</name>
  <files>pages/Login.tsx</files>
  <action>
Import useTranslation hook at top of Login.tsx:
```typescript
import { useTranslation } from 'react-i18next';
```
Add hook call inside component:
```typescript
const { t } = useTranslation('auth');
```

Replace all Login page strings with t() calls:
- "Criar Conta" -> t('login.createAccount') or t('signup.title')
- "Entrar" -> t('login.submit')
- "Email" -> t('login.email')
- "Senha" -> t('login.password')
- "seu@email.com" placeholder -> t('login.emailPlaceholder')
- "Verifique seu email para confirmar o cadastro!" -> t('signup.verifyEmail')
- "Erro ao autenticar" -> t('errors.auth.generic') (use errors namespace)
- "Ja tem uma conta? Entrar" -> t('login.hasAccount')
- "Nao tem conta? Criar agora" -> t('signup.noAccount')
- "Seus dados sao protegidos e criptografados" -> t('login.dataProtected')
  </action>
  <verify>grep -n "useTranslation" pages/Login.tsx && grep -c "t('" pages/Login.tsx</verify>
  <done>Login.tsx imports useTranslation, uses t() for all visible strings, no hardcoded Portuguese in JSX</done>
</task>

<task type="auto">
  <name>Task 2: Update auth.json with all Login page keys</name>
  <files>public/locales/pt-BR/auth.json</files>
  <action>
Update public/locales/pt-BR/auth.json with all keys used in Login.tsx:
```json
{
  "login": {
    "email": "Email",
    "password": "Senha",
    "emailPlaceholder": "seu@email.com",
    "submit": "Entrar",
    "createAccount": "Criar Conta",
    "hasAccount": "Ja tem uma conta? Entrar",
    "dataProtected": "Seus dados sao protegidos e criptografados"
  },
  "signup": {
    "title": "Criar Conta",
    "noAccount": "Nao tem conta? Criar agora",
    "verifyEmail": "Verifique seu email para confirmar o cadastro!"
  }
}
```
Ensure structure matches the t() calls in Login.tsx.
  </action>
  <verify>npm run dev -- --open & sleep 5 && echo "Check login page renders in Portuguese"</verify>
  <done>auth.json contains all login/signup keys, Login page displays Portuguese text without console warnings</done>
</task>

</tasks>

<verification>
- [ ] Login page displays all text in Portuguese (no English, no translation keys visible)
- [ ] No console warnings about missing translation keys
- [ ] Both login and signup modes display correctly
- [ ] Error messages display in Portuguese when triggered (invalid login)
- [ ] auth.json contains all keys referenced in Login.tsx
</verification>

<success_criteria>
- useTranslation hook imported and used in Login.tsx
- All visible strings wrapped with t() function
- auth.json updated with all login/signup keys
- No hardcoded Portuguese strings remaining in Login.tsx JSX
</success_criteria>

<output>
After completion, create `.planning/phases/05-string-extraction/05-01-SUMMARY.md`
</output>
