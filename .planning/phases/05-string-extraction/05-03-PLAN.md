# Plan: 05-03 Dashboard Strings

---
phase: 05-string-extraction
plan: 03
type: execute
wave: 2
depends_on: [05-02]
files_modified:
  - pages/Dashboard.tsx
  - components/DashboardCharts.tsx
  - public/locales/pt-BR/dashboard.json
autonomous: true

must_haves:
  truths:
    - "Dashboard page displays all text in Portuguese"
    - "Stat cards show Portuguese labels"
    - "Pluralization works correctly (1 destaque vs N destaques)"
  artifacts:
    - path: "pages/Dashboard.tsx"
      provides: "Dashboard with useTranslation hook"
      contains: "useTranslation('dashboard')"
    - path: "public/locales/pt-BR/dashboard.json"
      provides: "Portuguese translations for dashboard namespace"
      contains: "stats"
  key_links:
    - from: "pages/Dashboard.tsx"
      to: "public/locales/pt-BR/dashboard.json"
      via: "useTranslation hook"
      pattern: "t\\(['\"]stats\\."
---

<objective>
Extract all Dashboard page strings using the dashboard namespace.

Purpose: Complete dashboard translation - Requirement TRANS-02.
Output: Fully translated Dashboard.tsx with strings in dashboard.json
</objective>

<execution_context>
@C:\Users\lbp80\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\lbp80\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@pages/Dashboard.tsx
@public/locales/pt-BR/dashboard.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add useTranslation to Dashboard and replace header/stat strings</name>
  <files>pages/Dashboard.tsx</files>
  <action>
Import useTranslation hook in Dashboard.tsx:
```typescript
import { useTranslation } from 'react-i18next';
```
Add hook call inside component:
```typescript
const { t } = useTranslation('dashboard');
```

Replace Dashboard header strings:
- "Dashboard" -> t('title')
- "Overview of your reading and learning progress." -> t('subtitle')

Replace StatCard titles:
- "Books" -> t('stats.books')
- "Highlights" -> t('stats.highlights')
- "To Review" -> t('stats.toReview')
- "Streak" -> t('stats.streak')
- "3 Days" -> t('stats.streakValue', { count: 3 }) (use interpolation)

Replace "Recent Books" section:
- "Recent Books" -> t('recentBooks.title')
- "highlights" suffix -> t('recentBooks.highlightsCount', { count })

Check DashboardCharts.tsx for any hardcoded strings and extract them if found.
  </action>
  <verify>grep -n "useTranslation" pages/Dashboard.tsx && grep -c "t('" pages/Dashboard.tsx</verify>
  <done>Dashboard.tsx uses useTranslation, all stats and headers use t() calls</done>
</task>

<task type="auto">
  <name>Task 2: Update dashboard.json with all Dashboard keys</name>
  <files>public/locales/pt-BR/dashboard.json</files>
  <action>
Update public/locales/pt-BR/dashboard.json with all keys:
```json
{
  "title": "Dashboard",
  "subtitle": "Visao geral do seu progresso de leitura e aprendizado",
  "stats": {
    "books": "Livros",
    "highlights": "Destaques",
    "toReview": "Para Revisar",
    "streak": "Sequencia",
    "streakValue": "{{count}} dias",
    "streakValue_one": "{{count}} dia"
  },
  "recentBooks": {
    "title": "Livros Recentes",
    "highlightsCount": "{{count}} destaques",
    "highlightsCount_one": "{{count}} destaque"
  }
}
```
  </action>
  <verify>npm run dev -- --open & sleep 5 && echo "Check dashboard renders stats in Portuguese"</verify>
  <done>dashboard.json contains all keys, Dashboard displays Portuguese text, pluralization works</done>
</task>

</tasks>

<verification>
- [ ] Dashboard page displays all text in Portuguese
- [ ] Stat cards show "Livros", "Destaques", "Para Revisar", "Sequencia"
- [ ] Recent books section header shows "Livros Recentes"
- [ ] Highlight counts use proper pluralization
- [ ] No console warnings about missing translation keys
</verification>

<success_criteria>
- useTranslation hook used in Dashboard.tsx
- All visible strings wrapped with t() function
- dashboard.json updated with all keys
- Pluralization works correctly (1 destaque vs N destaques)
</success_criteria>

<output>
After completion, create `.planning/phases/05-string-extraction/05-03-SUMMARY.md`
</output>
