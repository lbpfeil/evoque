# Plan: 05-06 StudySession UI States Strings

---
phase: 05-string-extraction
plan: 06
type: execute
wave: 4
depends_on: [05-04]
files_modified:
  - pages/StudySession.tsx
  - public/locales/pt-BR/session.json
autonomous: true

must_haves:
  truths:
    - "StudySession loading/empty/error states display in Portuguese"
    - "Session complete screen shows Portuguese text"
    - "Card progress indicator uses interpolation correctly"
  artifacts:
    - path: "pages/StudySession.tsx"
      provides: "StudySession with useTranslation hook"
      contains: "useTranslation('session')"
    - path: "public/locales/pt-BR/session.json"
      provides: "Portuguese translations for session namespace"
      contains: "loading"
  key_links:
    - from: "pages/StudySession.tsx"
      to: "public/locales/pt-BR/session.json"
      via: "useTranslation hook"
      pattern: "t\\(['\"]loading"
---

<objective>
Extract StudySession UI state strings (loading, empty, error, complete) using the session namespace.

Purpose: Complete study session states translation - Requirement TRANS-05 (part 1).
Output: Fully translated StudySession.tsx state displays with strings in session.json
</objective>

<execution_context>
@C:\Users\lbp80\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\lbp80\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@pages/StudySession.tsx
@public/locales/pt-BR/session.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Add useTranslation to StudySession and replace state strings</name>
  <files>pages/StudySession.tsx</files>
  <action>
Import useTranslation hook in StudySession.tsx:
```typescript
import { useTranslation } from 'react-i18next';
const { t } = useTranslation('session');
```

Replace loading state strings:
- "Loading study session..." -> t('loading')

Replace "no cards" state strings:
- "Daily limit reached!" -> t('dailyLimit.title')
- "You've completed all 10 reviews for this book today..." -> t('dailyLimit.message')
- "No cards available" -> t('noCards.title')
- "This deck has no cards due for review." -> t('noCards.deckEmpty')
- "You have no cards due for review." -> t('noCards.allEmpty')
- "Back to Decks" button -> t('actions.backToDecks')

Replace session complete state strings:
- "Session Complete!" -> t('complete.title')
- "Reviewed" -> t('complete.reviewed')
- "Accuracy" -> t('complete.accuracy')

Replace card error state:
- "Card Error" -> t('error.title')
- "The current card data is missing or corrupted." -> t('error.message')

Replace header/progress strings:
- "Back to Decks" -> t('actions.backToDecks')
- "Card X / Y" -> t('progress.cardOf', { current, total })
- Title attributes for icons (Manage Tags, Copy, Delete Card) -> t('actions.manageTags'), t('actions.copy'), t('actions.deleteCard')
- "Copiado!" -> t('actions.copied')
- "Copiar para area de transferencia" -> t('actions.copyToClipboard')

Replace edit mode strings:
- "Edit Highlight" -> t('edit.highlightLabel')
- "Edit Note" -> t('edit.noteLabel')
- "Press ESC or click outside to save" -> t('edit.saveHint')
- "Add your note here..." placeholder -> t('edit.notePlaceholder')

Replace note display strings:
- "No note attached" -> t('note.empty')
- "Add a note" -> t('note.add')
- "Edit Note" button -> t('note.edit')

Replace card status labels (getCardStatus function):
- "New" -> t('status.new')
- "Learning" -> t('status.learning')
- "Review" -> t('status.review')
  </action>
  <verify>grep -n "useTranslation" pages/StudySession.tsx && grep -c "t('" pages/StudySession.tsx</verify>
  <done>StudySession.tsx uses useTranslation, all state and header strings use t() calls</done>
</task>

<task type="auto">
  <name>Task 2: Update session.json with UI state keys</name>
  <files>public/locales/pt-BR/session.json</files>
  <action>
Update public/locales/pt-BR/session.json with state keys:
```json
{
  "loading": "Carregando sessao de estudo...",
  "dailyLimit": {
    "title": "Limite diario atingido!",
    "message": "Voce completou todas as 10 revisoes deste livro hoje. Volte amanha!"
  },
  "noCards": {
    "title": "Nenhum cartao disponivel",
    "deckEmpty": "Este baralho nao tem cartoes para revisar.",
    "allEmpty": "Voce nao tem cartoes para revisar."
  },
  "complete": {
    "title": "Sessao Concluida!",
    "reviewed": "Revisados",
    "accuracy": "Acuracia"
  },
  "error": {
    "title": "Erro no Cartao",
    "message": "Os dados do cartao atual estao faltando ou corrompidos."
  },
  "progress": {
    "cardOf": "Cartao {{current}} / {{total}}"
  },
  "actions": {
    "backToDecks": "Voltar aos Baralhos",
    "manageTags": "Gerenciar Tags",
    "copy": "Copiar",
    "copyToClipboard": "Copiar para area de transferencia",
    "copied": "Copiado!",
    "deleteCard": "Excluir Cartao"
  },
  "edit": {
    "highlightLabel": "Editar Destaque",
    "noteLabel": "Editar Nota",
    "saveHint": "Pressione ESC ou clique fora para salvar",
    "notePlaceholder": "Adicione sua nota aqui..."
  },
  "note": {
    "empty": "Nenhuma nota anexada",
    "add": "Adicionar nota",
    "edit": "Editar Nota"
  },
  "status": {
    "new": "Novo",
    "learning": "Aprendendo",
    "review": "Revisao"
  }
}
```
  </action>
  <verify>npm run dev -- --open & sleep 5 && echo "Check study session states render in Portuguese"</verify>
  <done>session.json contains state keys, StudySession displays Portuguese text for all states</done>
</task>

</tasks>

<verification>
- [ ] StudySession loading state displays in Portuguese
- [ ] No cards/daily limit states display in Portuguese
- [ ] Session complete screen shows Portuguese text
- [ ] Card progress indicator shows Portuguese text
- [ ] Edit mode labels show Portuguese text
- [ ] No console warnings about missing translation keys
</verification>

<success_criteria>
- useTranslation hook used in StudySession.tsx
- All loading/error/empty states translated
- session.json contains all state keys
- Progress indicator uses interpolation correctly
</success_criteria>

<output>
After completion, create `.planning/phases/05-string-extraction/05-06-SUMMARY.md`
</output>
