---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - tailwind.config.js
  - index.css
autonomous: true

must_haves:
  truths:
    - "All colors render correctly in browser (no invalid CSS)"
    - "OKLCH values work without hsl() wrapper"
    - "Light mode shows warm cream tints"
    - "Dark mode shows warm charcoal tones"
    - "Border radius increased to 0.75rem"
  artifacts:
    - path: "tailwind.config.js"
      provides: "Color variable references without hsl() wrappers"
      contains: 'background: "var(--background)"'
    - path: "index.css"
      provides: "Warm OKLCH palette for light and dark modes"
      contains: "--background: oklch(0.995"
  key_links:
    - from: "tailwind.config.js"
      to: "index.css"
      via: "CSS variable references"
      pattern: 'var\\(--[a-z]+'
---

<objective>
Fix the broken color system by removing hsl() wrappers from tailwind.config.js and applying the warm OKLCH palette to index.css.

Purpose: Colors currently render incorrectly because tailwind.config.js wraps OKLCH CSS variables in hsl() - an invalid combination. This blocks all visual work.

Output: Working color system with warm palette applied to both light and dark modes.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/01-foundation/01-RESEARCH.md
@tailwind.config.js
@index.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix HSL/OKLCH mismatch in tailwind.config.js</name>
  <files>tailwind.config.js</files>
  <action>
Replace all `hsl(var(--...))` patterns with direct `var(--...)` references. The CSS variables in index.css use OKLCH format, not HSL space-separated values.

Change from:
```javascript
colors: {
    border: "hsl(var(--border))",
    background: "hsl(var(--background))",
    // etc
}
```

To:
```javascript
colors: {
    border: "var(--border)",
    input: "var(--input)",
    ring: "var(--ring)",
    background: "var(--background)",
    foreground: "var(--foreground)",
    primary: {
        DEFAULT: "var(--primary)",
        foreground: "var(--primary-foreground)",
    },
    secondary: {
        DEFAULT: "var(--secondary)",
        foreground: "var(--secondary-foreground)",
    },
    destructive: {
        DEFAULT: "var(--destructive)",
        foreground: "var(--destructive-foreground)",
    },
    muted: {
        DEFAULT: "var(--muted)",
        foreground: "var(--muted-foreground)",
    },
    accent: {
        DEFAULT: "var(--accent)",
        foreground: "var(--accent-foreground)",
    },
    popover: {
        DEFAULT: "var(--popover)",
        foreground: "var(--popover-foreground)",
    },
    card: {
        DEFAULT: "var(--card)",
        foreground: "var(--card-foreground)",
    },
}
```

Also add sidebar and chart color references that exist in index.css but are missing from tailwind.config.js:
```javascript
sidebar: {
    DEFAULT: "var(--sidebar)",
    foreground: "var(--sidebar-foreground)",
    primary: "var(--sidebar-primary)",
    "primary-foreground": "var(--sidebar-primary-foreground)",
    accent: "var(--sidebar-accent)",
    "accent-foreground": "var(--sidebar-accent-foreground)",
    border: "var(--sidebar-border)",
    ring: "var(--sidebar-ring)",
},
chart: {
    1: "var(--chart-1)",
    2: "var(--chart-2)",
    3: "var(--chart-3)",
    4: "var(--chart-4)",
    5: "var(--chart-5)",
},
```
  </action>
  <verify>Run `grep -c "hsl(var" tailwind.config.js` - should return 0. No hsl() wrappers remaining.</verify>
  <done>tailwind.config.js references CSS variables directly without hsl() wrappers</done>
</task>

<task type="auto">
  <name>Task 2: Apply warm palette and cleanup index.css</name>
  <files>index.css</files>
  <action>
Apply these changes to index.css:

**1. Fix broken HSL values (lines 32 and 90):**
Change `--destructive-foreground: 210 40% 98%;` to `--destructive-foreground: oklch(0.98 0.01 90);`

**2. Remove duplicate @layer base block (lines 123-130):**
Delete the entire second `@layer base { ... }` block - it duplicates rules already in the first block.

**3. Update :root with warm light mode palette:**
```css
:root {
  --background: oklch(0.995 0.003 90);
  --foreground: oklch(0.18 0.01 50);
  --card: oklch(1 0.002 85);
  --card-foreground: oklch(0.18 0.01 50);
  --popover: oklch(1 0.002 85);
  --popover-foreground: oklch(0.18 0.01 50);
  --primary: oklch(0.67 0.16 58);
  --primary-foreground: oklch(0.99 0.02 95);
  --secondary: oklch(0.95 0.008 80);
  --secondary-foreground: oklch(0.25 0.01 55);
  --muted: oklch(0.96 0.006 80);
  --muted-foreground: oklch(0.50 0.02 55);
  --accent: oklch(0.94 0.04 70);
  --accent-foreground: oklch(0.25 0.01 55);
  --destructive: oklch(0.58 0.22 30);
  --destructive-foreground: oklch(0.98 0.01 90);
  --border: oklch(0.90 0.01 70);
  --input: oklch(0.90 0.01 70);
  --ring: oklch(0.67 0.16 58);
  --radius: 0.75rem;
  /* Keep existing chart and sidebar values - they're already warm-toned */
}
```

**4. Update .dark with warm dark mode palette:**
```css
.dark {
  --background: oklch(0.16 0.01 50);
  --foreground: oklch(0.96 0.006 80);
  --card: oklch(0.22 0.012 55);
  --card-foreground: oklch(0.96 0.006 80);
  --popover: oklch(0.22 0.012 55);
  --popover-foreground: oklch(0.96 0.006 80);
  --primary: oklch(0.75 0.15 68);
  --primary-foreground: oklch(0.20 0.06 50);
  --secondary: oklch(0.28 0.01 55);
  --secondary-foreground: oklch(0.96 0.006 80);
  --muted: oklch(0.26 0.012 50);
  --muted-foreground: oklch(0.68 0.02 60);
  --accent: oklch(0.30 0.04 55);
  --accent-foreground: oklch(0.96 0.006 80);
  --destructive: oklch(0.70 0.20 25);
  --destructive-foreground: oklch(0.98 0.01 90);
  --border: oklch(1 0 0 / 12%);
  --input: oklch(1 0 0 / 15%);
  --ring: oklch(0.60 0.12 60);
  /* Keep existing chart and sidebar values */
}
```

**5. Update progress bar animation to use CSS variables:**
Change hardcoded colors in `.progress-bar-animated`:
```css
.progress-bar-animated {
  background: linear-gradient(
    90deg,
    var(--foreground) 0%,
    var(--muted-foreground) 25%,
    var(--foreground) 50%,
    var(--muted-foreground) 75%,
    var(--foreground) 100%
  );
  background-size: 200% 100%;
  animation: progress-flow 2s ease-in-out infinite;
}
```

Preserve: @import statements, .theme class, keyframes definition, chart/sidebar variables that are already warm-toned.
  </action>
  <verify>
1. `grep -c "210 40%" index.css` returns 0 (no raw HSL values)
2. `grep -c "@layer base" index.css` returns 1 (no duplicates)
3. `grep "radius: 0.75rem" index.css` finds the increased radius
4. `grep "#000000" index.css` returns 0 (no hardcoded colors in animation)
  </verify>
  <done>index.css has warm OKLCH palette, no duplicates, no hardcoded colors, increased radius</done>
</task>

</tasks>

<verification>
After both tasks complete:
1. Run `npm run dev` and open the app
2. Verify colors render correctly (no missing/broken colors)
3. Open DevTools > Elements > Computed, check that `background-color` shows a valid color value
4. Add `.dark` class to `<html>` element manually and verify dark mode colors work
</verification>

<success_criteria>
- Zero `hsl(var(--` patterns in tailwind.config.js
- Zero raw HSL values (like `210 40% 98%`) in index.css
- Only one `@layer base` block in index.css
- --radius set to 0.75rem
- App renders with visible, correct colors
- Adding `dark` class to html shows warm dark palette
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
