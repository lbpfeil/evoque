---
phase: 01-foundation
plan: 06
type: execute
wave: 1
depends_on: []
files_modified: [App.tsx, pages/Study.tsx]
autonomous: true
gap_closure: true

must_haves:
  truths:
    - "ThemeToggle only exists in Sidebar, not duplicated elsewhere"
    - "Study page action buttons area is cleaner without redundant controls"
  artifacts:
    - path: "App.tsx"
      provides: "App layout without redundant ThemeToggle"
      contains: "!ThemeToggle"
    - path: "pages/Study.tsx"
      provides: "Study page without redundant ThemeToggle"
      contains: "!ThemeToggle"
  key_links:
    - from: "components/Sidebar.tsx"
      to: "ThemeToggle"
      via: "single source of theme control"
      pattern: "ThemeToggle"
---

<objective>
Remove redundant ThemeToggle components from App.tsx and Study.tsx

Purpose: User reported "Já temos um botão de theme na sidebar e dentro da aba Study, não precisamos de mais um." ThemeToggle should only exist in Sidebar.
Output: Clean App.tsx and Study.tsx without duplicate theme controls
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation/01-UAT.md (Gap 1: Redundant ThemeToggle)
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove ThemeToggle from App.tsx</name>
  <files>App.tsx</files>
  <action>
Remove the redundant ThemeToggle from App.tsx:

1. Remove import statement (line 10):
   - Delete: `import { ThemeToggle } from './components/ThemeToggle';`

2. Remove the fixed ThemeToggle JSX block (lines 55-59):
   - Delete the entire block:
   ```jsx
   {!isStudySession && (
     <div className="fixed bottom-4 right-4 z-50">
       <ThemeToggle />
     </div>
   )}
   ```

The Sidebar already contains the ThemeToggle (lines 92-97 in Sidebar.tsx), so this removes redundancy.
  </action>
  <verify>
- `grep -n "ThemeToggle" App.tsx` returns no matches
- `npm run build` completes without errors
  </verify>
  <done>App.tsx has no ThemeToggle import or usage</done>
</task>

<task type="auto">
  <name>Task 2: Remove ThemeToggle and unused buttons from Study.tsx</name>
  <files>pages/Study.tsx</files>
  <action>
Remove ThemeToggle and the unused Settings/Refresh buttons from Study.tsx per user request:

1. Remove ThemeToggle import (line 6):
   - Delete: `import { ThemeToggle } from '../components/ThemeToggle';`

2. Remove Settings icon import (line 8):
   - Change: `import { Settings, RefreshCw } from 'lucide-react';`
   - To: (remove entirely if no other icons needed, or keep RefreshCw if reload stays)

3. Remove the entire action buttons section (lines 65-82):
   - Delete the div with `className="flex justify-end gap-2 mb-3"` and all its children
   - This removes ThemeToggle, RefreshCw button, and Settings button

4. Also remove related state and handlers that are now unused:
   - Remove `const [isReloading, setIsReloading] = useState(false);` (line 14)
   - Remove `handleSettings` function (lines 43-46)
   - Remove `handleReload` function (lines 48-52)

User explicitly said these buttons "não servem" (don't serve a purpose) on the Study page.
  </action>
  <verify>
- `grep -n "ThemeToggle" pages/Study.tsx` returns no matches
- `grep -n "handleReload\|handleSettings" pages/Study.tsx` returns no matches
- `npm run build` completes without errors
  </verify>
  <done>Study.tsx has no ThemeToggle, Settings button, or Refresh button</done>
</task>

</tasks>

<verification>
- Run `npm run build` - should complete with no errors
- Run `grep -rn "ThemeToggle" --include="*.tsx" | grep -v "components/ThemeToggle\|Sidebar"` - should return empty (ThemeToggle only in its own file and Sidebar)
</verification>

<success_criteria>
1. ThemeToggle only exists in Sidebar.tsx
2. Study page has cleaner UI without redundant action buttons
3. Build passes with no errors
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-06-SUMMARY.md`
</output>
