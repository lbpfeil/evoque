---
phase: 02-component-migration
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - components/ui/button.tsx
  - components/ui/input.tsx
  - components/ui/dialog.tsx
  - components/ui/popover.tsx
  - components/ui/command.tsx
  - components/ui/sheet.tsx
autonomous: true

must_haves:
  truths:
    - "All UI components use semantic color tokens (no hardcoded zinc-*)"
    - "Components render correctly in both light and dark mode"
    - "No dark: prefix needed in component classes (semantic tokens handle this)"
  artifacts:
    - path: "components/ui/button.tsx"
      provides: "Button variants with semantic tokens"
      contains: "bg-secondary text-secondary-foreground"
    - path: "components/ui/input.tsx"
      provides: "Input with semantic tokens"
      contains: "border-input bg-background text-foreground"
    - path: "components/ui/dialog.tsx"
      provides: "Dialog with semantic tokens"
      contains: "border-border bg-background"
    - path: "components/ui/popover.tsx"
      provides: "Popover with semantic tokens"
      contains: "border-border bg-popover text-popover-foreground"
    - path: "components/ui/command.tsx"
      provides: "Command with semantic tokens"
      contains: "bg-popover text-popover-foreground"
    - path: "components/ui/sheet.tsx"
      provides: "Sheet with semantic tokens"
      contains: "bg-background border-border"
  key_links:
    - from: "components/ui/*.tsx"
      to: "index.css"
      via: "semantic CSS variables"
      pattern: "(bg|text|border)-(background|foreground|muted|accent|border|input|popover)"
---

<objective>
Fix all shadcn UI components to use semantic color tokens instead of hardcoded zinc-* values.

Purpose: Establish theme-aware foundation components that all pages and modals will consume. Without this fix, pages would need both light AND dark color variants.

Output: Six UI components (button, input, dialog, popover, command, sheet) using semantic tokens that automatically adapt to light/dark mode.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/02-component-migration/02-RESEARCH.md

# Current UI component files
@components/ui/button.tsx
@components/ui/input.tsx
@components/ui/dialog.tsx
@components/ui/popover.tsx
@components/ui/command.tsx
@components/ui/sheet.tsx

# Semantic tokens reference
@src/index.css
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix button.tsx and input.tsx semantic tokens</name>
  <files>components/ui/button.tsx, components/ui/input.tsx</files>
  <action>
  Replace hardcoded zinc-* colors with semantic tokens in button.tsx:

  **button.tsx variants to fix:**
  ```tsx
  // outline: REPLACE
  "border border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 hover:bg-zinc-100 dark:hover:bg-zinc-800 hover:text-zinc-900 dark:hover:text-zinc-100"
  // WITH
  "border border-input bg-background hover:bg-accent hover:text-accent-foreground"

  // secondary: REPLACE
  "bg-zinc-100 dark:bg-zinc-800 text-zinc-900 dark:text-zinc-100 hover:bg-zinc-200 dark:hover:bg-zinc-700"
  // WITH
  "bg-secondary text-secondary-foreground hover:bg-secondary/80"

  // ghost: REPLACE
  "hover:bg-zinc-100 dark:hover:bg-zinc-800 hover:text-zinc-900 dark:hover:text-zinc-100"
  // WITH
  "hover:bg-accent hover:text-accent-foreground"
  ```

  **input.tsx to fix:**
  ```tsx
  // REPLACE entire className string
  "flex h-10 w-full rounded-md border border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100 px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-zinc-500 dark:placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
  // WITH
  "flex h-10 w-full rounded-md border border-input bg-background text-foreground px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
  ```

  Add transition utility to button base class (after "disabled:opacity-50"):
  - Add: `transition-colors duration-200`
  </action>
  <verify>
  - Run: `npm run build` (no TypeScript errors)
  - Grep: `grep -n "zinc-" components/ui/button.tsx components/ui/input.tsx` returns empty
  </verify>
  <done>
  - button.tsx has 0 hardcoded zinc-* colors
  - input.tsx has 0 hardcoded zinc-* colors
  - Both use semantic tokens (bg-background, text-foreground, border-input, etc.)
  </done>
</task>

<task type="auto">
  <name>Task 2: Fix dialog.tsx and popover.tsx semantic tokens</name>
  <files>components/ui/dialog.tsx, components/ui/popover.tsx</files>
  <action>
  **dialog.tsx fixes:**

  1. DialogContent className:
  ```tsx
  // REPLACE
  "border border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900"
  // WITH
  "border border-border bg-background text-foreground"
  ```

  2. DialogPrimitive.Close className (around line 45):
  ```tsx
  // REPLACE
  "data-[state=open]:bg-zinc-100 dark:data-[state=open]:bg-zinc-800 data-[state=open]:text-zinc-600 dark:data-[state=open]:text-zinc-400"
  // WITH
  "data-[state=open]:bg-accent data-[state=open]:text-muted-foreground"
  ```

  3. DialogTitle className:
  ```tsx
  // REPLACE
  "text-zinc-900 dark:text-zinc-100"
  // WITH
  "text-foreground"
  ```

  4. DialogDescription className:
  ```tsx
  // REPLACE
  "text-zinc-600 dark:text-zinc-400"
  // WITH
  "text-muted-foreground"
  ```

  **popover.tsx fixes:**

  PopoverContent className:
  ```tsx
  // REPLACE
  "border border-zinc-200 dark:border-zinc-800 bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100"
  // WITH
  "border border-border bg-popover text-popover-foreground"
  ```
  </action>
  <verify>
  - Run: `npm run build` (no TypeScript errors)
  - Grep: `grep -n "zinc-" components/ui/dialog.tsx components/ui/popover.tsx` returns empty
  </verify>
  <done>
  - dialog.tsx has 0 hardcoded zinc-* colors
  - popover.tsx has 0 hardcoded zinc-* colors
  - Both use semantic tokens
  </done>
</task>

<task type="auto">
  <name>Task 3: Fix command.tsx and sheet.tsx semantic tokens</name>
  <files>components/ui/command.tsx, components/ui/sheet.tsx</files>
  <action>
  **command.tsx fixes:**

  1. Command component (line ~16):
  ```tsx
  // REPLACE
  "bg-white dark:bg-zinc-900 text-zinc-900 dark:text-zinc-100"
  // WITH
  "bg-popover text-popover-foreground"
  ```

  2. CommandInput wrapper div (line ~42):
  ```tsx
  // REPLACE
  "border-b border-zinc-200 dark:border-zinc-800"
  // WITH
  "border-b border-border"
  ```

  3. CommandInput placeholder (line ~47):
  ```tsx
  // REPLACE
  "placeholder:text-zinc-500 dark:placeholder:text-zinc-500"
  // WITH
  "placeholder:text-muted-foreground"
  ```

  4. CommandGroup (line ~90):
  ```tsx
  // REPLACE
  "text-zinc-900 dark:text-zinc-100 [&_[cmdk-group-heading]]:text-zinc-600 dark:[&_[cmdk-group-heading]]:text-zinc-400"
  // WITH
  "text-foreground [&_[cmdk-group-heading]]:text-muted-foreground"
  ```

  5. CommandSeparator (line ~105):
  ```tsx
  // REPLACE
  "bg-zinc-200 dark:bg-zinc-800"
  // WITH
  "bg-border"
  ```

  6. CommandItem (line ~117-118):
  ```tsx
  // REPLACE
  "aria-selected:bg-zinc-100 dark:aria-selected:bg-zinc-800 aria-selected:text-zinc-900 dark:aria-selected:text-zinc-100 hover:bg-zinc-100 dark:hover:bg-zinc-800 hover:text-zinc-900 dark:hover:text-zinc-100"
  // WITH
  "aria-selected:bg-accent aria-selected:text-accent-foreground hover:bg-accent hover:text-accent-foreground"
  ```

  7. CommandShortcut (line ~134):
  ```tsx
  // REPLACE
  "text-zinc-600 dark:text-zinc-400"
  // WITH
  "text-muted-foreground"
  ```

  **sheet.tsx fixes:**

  1. sheetVariants base (line ~32):
  ```tsx
  // REPLACE
  "bg-white dark:bg-zinc-900"
  // WITH
  "bg-background"
  ```

  2. sheetVariants side borders (all 4 sides):
  ```tsx
  // REPLACE in each side variant
  "border-zinc-200 dark:border-zinc-800"
  // WITH
  "border-border"
  ```

  3. SheetPrimitive.Close (line ~66):
  ```tsx
  // REPLACE
  "data-[state=open]:bg-zinc-100 dark:data-[state=open]:bg-zinc-800"
  // WITH
  "data-[state=open]:bg-secondary"
  ```

  4. SheetTitle (line ~109):
  ```tsx
  // REPLACE
  "text-zinc-900 dark:text-zinc-100"
  // WITH
  "text-foreground"
  ```

  5. SheetDescription (line ~121):
  ```tsx
  // REPLACE
  "text-zinc-600 dark:text-zinc-400"
  // WITH
  "text-muted-foreground"
  ```
  </action>
  <verify>
  - Run: `npm run build` (no TypeScript errors)
  - Grep: `grep -n "zinc-" components/ui/command.tsx components/ui/sheet.tsx` returns empty
  - Visual: Run `npm run dev`, open app, toggle theme - all components should render correctly
  </verify>
  <done>
  - command.tsx has 0 hardcoded zinc-* colors
  - sheet.tsx has 0 hardcoded zinc-* colors
  - All 6 UI components now use semantic tokens exclusively
  </done>
</task>

</tasks>

<verification>
Run after all tasks complete:

```bash
# Verify no hardcoded zinc-* colors remain in UI components
grep -rn "zinc-" components/ui/button.tsx components/ui/input.tsx components/ui/dialog.tsx components/ui/popover.tsx components/ui/command.tsx components/ui/sheet.tsx

# Expected: No output (all zinc-* replaced with semantic tokens)

# Build check
npm run build

# Visual verification
npm run dev
# Toggle theme in sidebar - all existing UI should render correctly in both modes
```
</verification>

<success_criteria>
- All 6 UI components have 0 hardcoded zinc-* color references
- Components use semantic tokens: bg-background, text-foreground, border-border, bg-accent, text-muted-foreground, etc.
- No TypeScript errors on build
- Theme toggle works correctly (components adapt to light/dark mode)
</success_criteria>

<output>
After completion, create `.planning/phases/02-component-migration/02-01-SUMMARY.md`
</output>
