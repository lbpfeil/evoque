---
phase: 09-component-adoption
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - pages/Login.tsx
  - components/Sidebar.tsx
  - components/ThemeToggle.tsx
  - components/ErrorBoundary.tsx
autonomous: true

must_haves:
  truths:
    - "Login page uses Button component for sign in and sign up actions"
    - "Login page uses Input component for email and password fields"
    - "Sidebar navigation buttons use Button ghost variant"
    - "ThemeToggle uses Button icon variant"
    - "ErrorBoundary retry button uses Button component"
    - "No raw <button> with manual styling remains in these 4 files"
    - "Dashboard.tsx confirmed to have 0 raw buttons (no migration needed)"
  artifacts:
    - path: "pages/Login.tsx"
      provides: "Button and Input component adoption"
      contains: "import { Button }"
    - path: "components/Sidebar.tsx"
      provides: "Button ghost variant for nav items"
      contains: "import { Button }"
    - path: "components/ThemeToggle.tsx"
      provides: "Button icon variant for toggle"
      contains: "import { Button }"
    - path: "components/ErrorBoundary.tsx"
      provides: "Button component for retry action"
      contains: "import { Button }"
  key_links:
    - from: "pages/Login.tsx"
      to: "components/ui/button.tsx"
      via: "import { Button }"
      pattern: "import.*Button.*from.*ui/button"
    - from: "pages/Login.tsx"
      to: "components/ui/input.tsx"
      via: "import { Input }"
      pattern: "import.*Input.*from.*ui/input"
---

<objective>
Replace raw HTML button and input elements in Login.tsx, Sidebar.tsx, ThemeToggle.tsx, and ErrorBoundary.tsx with standardized shadcn Button and Input components.

Purpose: Close the Button/Input adoption gap for the simplest files first -- Login (2 buttons + 2 inputs), Sidebar (3 nav buttons), ThemeToggle (1 icon button), ErrorBoundary (1 button).
Output: 4 files migrated to use Button/Input components with zero raw styled buttons remaining.
</objective>

<execution_context>
@C:\Users\lbp80\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\lbp80\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-component-adoption/09-RESEARCH.md
@components/ui/button.tsx
@components/ui/input.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate Login.tsx to Button and Input components</name>
  <files>pages/Login.tsx</files>
  <action>
  Replace raw HTML elements in Login.tsx with shadcn components:

  1. Add imports at top:
     ```tsx
     import { Button } from '../components/ui/button';
     import { Input } from '../components/ui/input';
     ```

  2. Replace email input:
     - Find: `<input type="email" ...>` with manual className
     - Replace with: `<Input type="email" ...>` preserving all other props (placeholder, value, onChange, required, autoComplete, disabled, id, name)
     - Remove the manual className -- Input has built-in h-8, border, bg, text styling
     - If there's a custom className with layout props (w-full, etc.), keep only layout-specific classes

  3. Replace password input:
     - Find: `<input type="password" ...>` with manual className
     - Replace with: `<Input type="password" ...>` preserving all other props
     - Same className rules as email input

  4. Replace sign-in/submit button:
     - Find: primary action `<button>` (likely has bg-primary or type="submit")
     - Replace with: `<Button type="submit">` -- default variant is already primary style
     - IMPORTANT: Set type="submit" explicitly (Button defaults to type="button")
     - Preserve disabled prop and onClick if present
     - If it has w-full, add className="w-full"

  5. Replace secondary/sign-up button:
     - Find: secondary action `<button>` (likely outline/border styling or text-only)
     - Replace with: `<Button variant="outline">` or `<Button variant="ghost">` depending on current visual weight
     - Preserve disabled prop and onClick
     - If it has w-full, add className="w-full"

  Pitfall avoidance:
  - Login form buttons NEED type="submit" to work with form submission
  - Keep all form-related attributes (disabled during loading, etc.)
  - Input component already includes file: prefixes for file inputs, but Login has no file inputs
  </action>
  <verify>
  1. Run: `grep -n "<button" pages/Login.tsx` -- should return 0 matches
  2. Run: `grep -n "<input" pages/Login.tsx` -- should return 0 matches
  3. Run: `grep -n "import.*Button" pages/Login.tsx` -- should show Button import
  4. Run: `grep -n "import.*Input" pages/Login.tsx` -- should show Input import
  5. Run: `npm run build` -- no TypeScript errors
  </verify>
  <done>Login.tsx uses Button component for both action buttons and Input component for both form fields. Zero raw button/input elements remain.</done>
</task>

<task type="auto">
  <name>Task 2: Migrate Sidebar.tsx, ThemeToggle.tsx, and ErrorBoundary.tsx to Button component</name>
  <files>components/Sidebar.tsx, components/ThemeToggle.tsx, components/ErrorBoundary.tsx</files>
  <action>
  **Sidebar.tsx** (3 buttons):

  1. Add import: `import { Button } from './ui/button';`

  2. Replace nav item buttons (likely 2-3 buttons with ghost-like styling):
     - These are navigation buttons with icon + text
     - Replace with: `<Button variant="ghost" className="...">` preserving layout classes (w-full, justify-start, gap, etc.)
     - Keep onClick, aria-label, and any conditional active/selected styling via className
     - Button ghost variant provides: hover:bg-accent hover:text-accent-foreground (matches typical nav hover)

  3. Replace mobile toggle button (if present):
     - Replace with: `<Button variant="ghost" size="icon">` for icon-only buttons
     - Preserve onClick and aria attributes

  Pitfall: Sidebar buttons likely have complex conditional classNames for active state. Keep those via className prop -- Button's cn() merges them.

  **ThemeToggle.tsx** (1 button):

  1. Add import: `import { Button } from './ui/button';`

  2. Replace theme toggle button:
     - Find: `<button>` with icon inside (sun/moon icon)
     - Replace with: `<Button variant="ghost" size="icon">`
     - Preserve onClick handler and aria-label
     - Remove manual hover/transition classes (Button ghost handles these)

  **ErrorBoundary.tsx** (1 button):

  1. Add import: `import { Button } from './ui/button';`

  2. Replace retry/reload button:
     - Find: `<button>` (likely styled as primary action)
     - Replace with: `<Button onClick={...}>` (default variant = primary)
     - Preserve onClick handler and button text
     - Remove manual styling classes
  </action>
  <verify>
  1. Run: `grep -n "<button" components/Sidebar.tsx` -- should return 0 matches
  2. Run: `grep -n "<button" components/ThemeToggle.tsx` -- should return 0 matches
  3. Run: `grep -n "<button" components/ErrorBoundary.tsx` -- should return 0 matches
  4. Run: `grep -c "import.*Button" components/Sidebar.tsx components/ThemeToggle.tsx components/ErrorBoundary.tsx` -- all should show 1
  5. Run: `grep -n "<button" pages/Dashboard.tsx` -- should return 0 matches (Dashboard has 0 raw buttons per research; confirms no migration needed)
  6. Run: `npm run build` -- no TypeScript errors
  </verify>
  <done>Sidebar.tsx, ThemeToggle.tsx, and ErrorBoundary.tsx all use Button component. Zero raw button elements remain in these 3 files. Dashboard.tsx confirmed to have 0 raw buttons (no migration needed).</done>
</task>

</tasks>

<verification>
After both tasks complete:
1. `grep -rn "<button" pages/Login.tsx components/Sidebar.tsx components/ThemeToggle.tsx components/ErrorBoundary.tsx` returns 0 matches
2. `grep -rn "<input" pages/Login.tsx` returns 0 matches
3. `grep -n "<button" pages/Dashboard.tsx` returns 0 matches (Dashboard confirmed: 0 raw buttons, no migration needed)
4. `npm run build` succeeds with no TypeScript errors
5. All 4 files import Button from ui/button
6. Login.tsx additionally imports Input from ui/input
</verification>

<success_criteria>
- Login.tsx: 2 Button usages + 2 Input usages, 0 raw elements
- Sidebar.tsx: 3 Button usages, 0 raw buttons
- ThemeToggle.tsx: 1 Button usage, 0 raw buttons
- ErrorBoundary.tsx: 1 Button usage, 0 raw buttons
- Build succeeds with no errors
</success_criteria>

<output>
After completion, create `.planning/phases/09-component-adoption/09-01-SUMMARY.md`
</output>
