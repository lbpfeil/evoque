---
phase: 09-component-adoption
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - pages/StudySession.tsx
  - pages/Study.tsx
autonomous: true

must_haves:
  truths:
    - "StudySession non-rating buttons use Button component"
    - "StudySession 4 rating buttons (Again, Hard, Good, Easy) remain as raw <button> elements with SM-2 colors (documented deviation)"
    - "Study.tsx All Books card-button is evaluated and either replaced or kept raw with documented reason"
    - "No raw <button> with manual styling remains in StudySession.tsx except the 4 rating buttons"
  artifacts:
    - path: "pages/StudySession.tsx"
      provides: "Button adoption for non-rating controls"
      contains: "import { Button }"
    - path: "pages/Study.tsx"
      provides: "Evaluated button migration"
  key_links:
    - from: "pages/StudySession.tsx"
      to: "components/ui/button.tsx"
      via: "import { Button }"
      pattern: "import.*Button.*from.*ui/button"
---

<objective>
Replace raw HTML button elements in StudySession.tsx and Study.tsx with standardized shadcn Button components, while preserving StudySession's intentional rating button deviations.

Purpose: StudySession has ~17 raw buttons but only ~13 should be replaced (4 SM-2 rating buttons are documented deviations with raw colors). Study.tsx has 1 card-like button to evaluate.
Output: StudySession.tsx control buttons migrated, rating buttons preserved. Study.tsx evaluated.
</objective>

<execution_context>
@C:\Users\lbp80\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\lbp80\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-component-adoption/09-RESEARCH.md
@components/ui/button.tsx
@pages/StudySession.tsx
@pages/Study.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate StudySession.tsx non-rating buttons to Button component</name>
  <files>pages/StudySession.tsx</files>
  <action>
  Add import at top:
  ```tsx
  import { Button } from '../components/ui/button';
  ```

  Carefully examine every `<button>` in StudySession.tsx (~17 total). Classify each:

  **REPLACE these buttons with Button component:**
  - Navigation buttons (back, home, close session)
  - Flip card button
  - Undo button (Ctrl+Z)
  - Session control buttons (pause, resume, end)
  - Edit highlight button
  - Any other non-rating interactive buttons

  For each replacement:
  - Determine variant from current styling:
    - Ghost-like (hover only, no bg): `<Button variant="ghost">`
    - Icon-only: `<Button variant="ghost" size="icon">`
    - Primary action: `<Button>` (default variant)
    - Outline: `<Button variant="outline">`
  - Preserve: onClick, disabled, aria-label, title, keyboard shortcut attributes
  - Remove: manual visual classes (bg-*, text-*, hover:*, border-*, rounded-*, px-*, py-*, h-*)
  - Keep: layout classes (w-full, flex, absolute, fixed, etc.)

  **DO NOT REPLACE these rating buttons (documented deviation):**
  - Again button (bg-red-500 or similar red)
  - Hard button (bg-amber-500 or similar amber)
  - Good button (bg-blue-500 or similar blue)
  - Easy button (bg-green-500 or similar green)

  These 4 rating buttons use raw SM-2 quality feedback colors that are intentional deviations documented in Phase 8. They MUST stay as raw `<button>` elements.

  **How to identify rating buttons:** They typically:
  - Are in a footer/bottom bar area
  - Have quality level labels (Again/Hard/Good/Easy or 1/2/3/4)
  - Use raw color classes (bg-red-500, bg-amber-500, bg-blue-500, bg-green-500)
  - May have keyboard shortcut indicators (1, 2, 3, 4)

  Add a comment above the rating buttons block if not already present:
  ```tsx
  {/* SM-2 rating buttons -- intentional deviation, raw colors for quality feedback */}
  ```
  </action>
  <verify>
  1. Run: `grep -n "<button" pages/StudySession.tsx` -- should return ONLY the 4 rating buttons
  2. Run: `grep -c "<Button" pages/StudySession.tsx` -- should show ~13 Button usages
  3. Run: `grep -n "import.*Button" pages/StudySession.tsx` -- should show import
  4. Verify rating buttons still have raw color classes (bg-red, bg-amber, bg-blue, bg-green)
  5. Run: `npm run build` -- no TypeScript errors
  </verify>
  <done>All non-rating buttons in StudySession.tsx use Button component. 4 rating buttons remain as raw elements with SM-2 colors (documented deviation). ~13 buttons replaced, 4 preserved.</done>
</task>

<task type="auto">
  <name>Task 2: Evaluate and migrate Study.tsx button</name>
  <files>pages/Study.tsx</files>
  <action>
  Study.tsx has 1 raw button: the "All Books" deck selector. Read the file and evaluate:

  1. Read the current `<button>` element and its className
  2. Determine if it's styled as a card-like element (large, full-width, with grid layout) or a standard button

  **If it's a standard action button** (small, compact, action-oriented):
  - Add import: `import { Button } from '../components/ui/button';`
  - Replace with appropriate Button variant
  - Remove manual visual classes, keep layout classes

  **If it's a card-like element** (large, full-width, complex inner layout, grid):
  - The "All Books" button is likely styled identically to DeckTable deck rows (full-width, grid layout, hover:bg-accent)
  - In this case, KEEP IT RAW -- same rationale as DeckTable rows (Button component styling conflicts with card/row appearance)
  - Add a comment explaining why it stays raw:
    ```tsx
    {/* Card-like deck button -- kept raw for same reason as DeckTable rows (Button styling conflicts with card appearance) */}
    ```

  The decision depends entirely on the current styling. Read the file to determine.
  </action>
  <verify>
  1. Run: `grep -n "<button" pages/Study.tsx` -- should return 0 (if replaced) or 1 with comment (if kept raw)
  2. Run: `npm run build` -- no TypeScript errors
  3. If kept raw, verify comment explains the decision
  </verify>
  <done>Study.tsx button evaluated: either replaced with Button component or documented as intentional raw element with card-like styling rationale.</done>
</task>

</tasks>

<verification>
After both tasks complete:
1. `grep -n "<button" pages/StudySession.tsx` returns only 4 rating button lines
2. `grep -n "<button" pages/Study.tsx` returns 0 (replaced) or 1 with documented comment (kept raw)
3. `npm run build` succeeds
4. StudySession rating buttons visually unchanged (raw SM-2 colors preserved)
</verification>

<success_criteria>
- StudySession.tsx: ~13 buttons replaced with Button, 4 rating buttons preserved raw
- Study.tsx: 1 button evaluated and either replaced or documented as intentional exception
- Build succeeds with no errors
- Rating buttons still use raw bg-red-500, bg-amber-500, bg-blue-500, bg-green-500
</success_criteria>

<output>
After completion, create `.planning/phases/09-component-adoption/09-03-SUMMARY.md`
</output>
