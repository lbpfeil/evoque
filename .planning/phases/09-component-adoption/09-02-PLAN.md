---
phase: 09-component-adoption
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - pages/Settings.tsx
autonomous: true

must_haves:
  truths:
    - "Settings page uses Button component for all action buttons"
    - "Settings page uses Input component for text and number inputs"
    - "File upload inputs are tested and work correctly (kept raw if Input breaks file UI)"
    - "Checkbox inputs are kept raw or use Checkbox component (NOT Input component)"
    - "No raw <button> with manual styling remains in Settings.tsx"
  artifacts:
    - path: "pages/Settings.tsx"
      provides: "Full Button and Input component adoption"
      contains: "import { Button }"
  key_links:
    - from: "pages/Settings.tsx"
      to: "components/ui/button.tsx"
      via: "import { Button }"
      pattern: "import.*Button.*from.*ui/button"
    - from: "pages/Settings.tsx"
      to: "components/ui/input.tsx"
      via: "import { Input }"
      pattern: "import.*Input.*from.*ui/input"
---

<objective>
Replace raw HTML button and input elements in Settings.tsx with standardized shadcn Button and Input components.

Purpose: Settings.tsx is the most complex page for this migration (~15 buttons, ~10 inputs) with multiple input types including text, number, file, and checkbox. File inputs need careful testing.
Output: Settings.tsx migrated to use Button/Input components with appropriate handling for each input type.
</objective>

<execution_context>
@C:\Users\lbp80\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\lbp80\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/09-component-adoption/09-RESEARCH.md
@components/ui/button.tsx
@components/ui/input.tsx
@pages/Settings.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate Settings.tsx buttons to Button component</name>
  <files>pages/Settings.tsx</files>
  <action>
  Add import at top of Settings.tsx:
  ```tsx
  import { Button } from '../components/ui/button';
  ```

  Replace all ~8-15 raw `<button>` elements. For each button, select the correct variant based on visual weight:

  1. **Primary action buttons** (bg-primary or solid color background):
     - Replace with: `<Button>` (default variant = primary)
     - Example: Import submit, save buttons

  2. **Secondary/outline buttons** (border, no background):
     - Replace with: `<Button variant="outline">`
     - Example: Cancel, secondary action buttons

  3. **Ghost/tertiary buttons** (no border, no bg, hover only):
     - Replace with: `<Button variant="ghost">`
     - Example: Edit, toggle buttons

  4. **Destructive buttons** (red/danger styled):
     - Replace with: `<Button variant="destructive">`
     - Example: Delete, remove buttons

  5. **Icon-only buttons** (just an icon, no text):
     - Replace with: `<Button variant="ghost" size="icon">`
     - Example: Close, edit icons

  For ALL button replacements:
  - Preserve onClick, disabled, type attributes
  - Keep layout-specific className props (w-full, mt-*, etc.) but remove visual classes (bg-*, text-*, border-*, hover:*, rounded-*, px-*, py-*, h-*, font-*)
  - IMPORTANT: If a button has type="submit" in a form, preserve it explicitly
  - If a button wraps an SVG icon, keep the icon inside Button

  Pitfall avoidance:
  - Settings has file upload trigger buttons -- these are regular buttons that trigger a hidden file input. Replace with Button.
  - Buttons inside book settings cards may have specific sizing -- use className for layout overrides
  </action>
  <verify>
  1. Run: `grep -n "<button" pages/Settings.tsx` -- should return 0 matches
  2. Run: `grep -c "<Button" pages/Settings.tsx` -- should show button count matching original
  3. Run: `npm run build` -- no TypeScript errors
  </verify>
  <done>All raw button elements in Settings.tsx replaced with Button component using appropriate variants. Zero raw buttons remain.</done>
</task>

<task type="auto">
  <name>Task 2: Migrate Settings.tsx inputs to Input component</name>
  <files>pages/Settings.tsx</files>
  <action>
  Add import (if not already added from Task 1):
  ```tsx
  import { Input } from '../components/ui/input';
  ```

  Replace raw `<input>` elements by type:

  1. **Text inputs** (type="text" or no type):
     - Replace with: `<Input type="text" ...>` or `<Input ...>`
     - Preserve: value, onChange, placeholder, id, name, disabled, required, autoComplete
     - Remove manual className styling (Input has built-in h-8, border, bg, text)
     - Keep only layout-specific classes (w-full, etc.)

  2. **Number inputs** (type="number"):
     - Replace with: `<Input type="number" ...>`
     - Preserve: value, onChange, min, max, step, id, name
     - Remove manual className styling
     - Keep layout classes

  3. **File inputs** (type="file"):
     - FIRST TRY: Replace with `<Input type="file" ...>` -- Input component has file: pseudo-class styling
     - Preserve: onChange, accept, ref, id
     - The Input component already includes `file:border-0 file:bg-transparent file:text-sm file:font-medium` styling
     - If file inputs are hidden (className includes "hidden" or "sr-only"), keep them raw since they are never visible
     - IMPORTANT: Hidden file inputs triggered by button click should stay as raw `<input type="file" className="hidden" ...>` since Input component styling is irrelevant for invisible elements

  4. **Checkbox inputs** (type="checkbox"):
     - DO NOT replace with Input component (Input is for text inputs)
     - KEEP RAW: `<input type="checkbox" ...>` -- these work correctly as-is
     - Alternative: Could use shadcn Checkbox component, but mixing component systems adds complexity for 2 checkboxes
     - Decision: Keep raw checkboxes in this plan (potential future cleanup)

  For ALL input replacements:
  - Remove visual className classes (h-*, px-*, py-*, border-*, bg-*, text-*, rounded-*, ring-*, focus-visible:*)
  - Keep layout/structural classes (w-full, flex-1, etc.)
  - Preserve all non-className props exactly as-is
  </action>
  <verify>
  1. Run: `grep -n "<input" pages/Settings.tsx` -- should return only hidden file inputs and checkbox inputs (expected exceptions)
  2. Run: `grep -c "<Input" pages/Settings.tsx` -- should show Input component count
  3. Count remaining raw inputs: hidden file inputs + checkboxes only
  4. Run: `npm run build` -- no TypeScript errors
  </verify>
  <done>All visible text/number inputs in Settings.tsx use Input component. File inputs that are hidden remain raw (invisible elements). Checkbox inputs remain raw (not text inputs). Zero raw visible text/number inputs remain.</done>
</task>

</tasks>

<verification>
After both tasks complete:
1. `grep -n "<button" pages/Settings.tsx` returns 0 matches
2. `grep -n "<input" pages/Settings.tsx` returns ONLY hidden file inputs and checkboxes (expected exceptions)
3. `grep -n "import.*Button" pages/Settings.tsx` shows import
4. `grep -n "import.*Input" pages/Settings.tsx` shows import
5. `npm run build` succeeds
</verification>

<success_criteria>
- Settings.tsx: All buttons replaced with Button component (~8-15 replacements)
- Settings.tsx: All visible text/number inputs replaced with Input component
- File inputs: Hidden file inputs kept raw, visible file inputs tested with Input component
- Checkbox inputs: Kept raw (not text inputs)
- Build succeeds with no errors
</success_criteria>

<output>
After completion, create `.planning/phases/09-component-adoption/09-02-SUMMARY.md`
</output>
