---
phase: 10-bug-fixes-guide-accuracy
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - lbp_diretrizes/design-system-guide.md
  - lbp_context/TECHNICAL_CONTEXT.md
  - lbp_context/HighlightTab-context.md
  - lbp_context/prd.md
  - lbp_context/README.md
autonomous: true

must_haves:
  truths:
    - "Design guide Rules section reflects actual codebase state (not aspirational)"
    - "Motion/z-index/icon tokens documented as infrastructure-ready (not mandatory)"
    - "No lbp_context file references deleted compact-ui-design-guidelines.md"
    - "All design system references point to design-system-guide.md"
  artifacts:
    - path: "lbp_diretrizes/design-system-guide.md"
      provides: "Accurate design guide with infrastructure-ready token documentation"
      contains: "infrastructure-ready"
    - path: "lbp_context/TECHNICAL_CONTEXT.md"
      provides: "Updated design system references"
      contains: "design-system-guide.md"
    - path: "lbp_context/README.md"
      provides: "Updated design system references"
      contains: "design-system-guide.md"
  key_links:
    - from: "lbp_context/*.md files"
      to: "lbp_diretrizes/design-system-guide.md"
      via: "file reference"
      pattern: "design-system-guide\\.md"
---

<objective>
Update design guide accuracy and fix stale references to deleted compact-ui-design-guidelines.md

Purpose: After Phases 8+9 completed, the design guide's "Rules and Anti-Patterns" section is now accurate (not aspirational). Motion/z-index/icon tokens are infrastructure-ready but not consumed â€” the guide should document this reality. Additionally, 4 files in lbp_context/ still reference the deleted compact-ui-design-guidelines.md file.

Output: Accurate design guide with infrastructure-ready token documentation and all stale references fixed.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md

@lbp_diretrizes/design-system-guide.md
@lbp_context/TECHNICAL_CONTEXT.md
@lbp_context/HighlightTab-context.md
@lbp_context/prd.md
@lbp_context/README.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update design-system-guide.md token documentation</name>
  <files>lbp_diretrizes/design-system-guide.md</files>
  <action>
Update the Motion, Icon Sizes, and Z-Index sections to document their "infrastructure-ready" status.

**Motion section (around line 95-105):**
Add a note after the token table:
```
> **Status:** Infrastructure-ready. These tokens are defined and available but not yet consumed by components. Use them for new animations â€” the infrastructure is in place.
```

**Icon Sizes section (around line 108-116):**
The existing note ("Some existing code uses explicit sizes...") is already accurate. Enhance it slightly:
```
> **Status:** Infrastructure-ready. Some existing code uses explicit sizes (`w-3 h-3`, `w-4 h-4`). The semantic tokens are available for new code â€” adopt them when adding or modifying icon usage.
```

**Z-Index section (around line 118-132):**
Add a note after the token table:
```
> **Status:** Infrastructure-ready. Radix components use their internal z-index (z-50), which works because they portal to `<body>`. Custom overlays should use these semantic tokens. Currently no custom overlays exist in the codebase.
```

**Rules section (Section 7, around line 547-558):**
Verify the rules are now accurate after Phases 8+9. The rules ARE being followed in the codebase now. No changes needed unless verification shows otherwise.
  </action>
  <verify>
Run: `grep -c "infrastructure-ready\|Infrastructure-ready" lbp_diretrizes/design-system-guide.md`
Expected: 3 matches (Motion, Icon Sizes, Z-Index sections)
  </verify>
  <done>Design guide documents motion/z-index/icon tokens as infrastructure-ready with clear adoption guidance</done>
</task>

<task type="auto">
  <name>Task 2: Fix stale references in lbp_context/ files</name>
  <files>
    lbp_context/TECHNICAL_CONTEXT.md
    lbp_context/HighlightTab-context.md
    lbp_context/prd.md
    lbp_context/README.md
  </files>
  <action>
Replace all references to deleted `compact-ui-design-guidelines.md` with `design-system-guide.md`.

**TECHNICAL_CONTEXT.md** (5 references):
1. Line ~404: `lbp_diretrizes/compact-ui-design-guidelines.md` â†’ `lbp_diretrizes/design-system-guide.md`
2. Line ~441: `// - compact-ui-design-guidelines.md` â†’ `// - design-system-guide.md`
3. Line ~694: `â”œâ”€â”€ compact-ui-design-guidelines.md  # âš ï¸ UI/UX standards (550 lines) - v1.1 (2025-12-30)` â†’ `â”œâ”€â”€ design-system-guide.md  # âš ï¸ UI/UX standards (~600 lines) - v2.0 (2026-01-28)`
4. Line ~706: `- `compact-ui-design-guidelines.md`: âœ… When working on...` â†’ `- `design-system-guide.md`: âœ… When working on UI components, styling, layout`
5. Line ~764: `@lbp_diretrizes/compact-ui-design-guidelines.md` â†’ `@lbp_diretrizes/design-system-guide.md`
6. Line ~850: Reference in changelog â€” leave as historical record (it mentions "Updated all examples in compact-ui-design-guidelines.md" as past event)

**HighlightTab-context.md** (2 references):
1. Line ~446: `context/compact-ui-design-guidelines.md` â†’ `lbp_diretrizes/design-system-guide.md`
2. Line ~451: `compact-ui-design-guidelines.md` â†’ `design-system-guide.md`

**prd.md** (1 reference):
1. Line ~382: `lbp_diretrizes/compact-ui-design-guidelines.md` â†’ `lbp_diretrizes/design-system-guide.md`

**README.md** (5 references):
1. Line ~31: `â”œâ”€â”€ compact-ui-design-guidelines.md  ğŸ¨ UI/UX Guidelines (550 linhas)` â†’ `â”œâ”€â”€ design-system-guide.md  ğŸ¨ UI/UX Guidelines (~600 lines)`
2. Line ~47: `compact-ui-design-guidelines.md` â†’ `design-system-guide.md`
3. Line ~195: `### **ğŸ¨ ../lbp_diretrizes/compact-ui-design-guidelines.md**` â†’ `### **ğŸ¨ ../lbp_diretrizes/design-system-guide.md**`
4. Line ~236: `@compact-ui-design-guidelines.md` â†’ `@design-system-guide.md`
5. Update any descriptions that mention "550 lines" to "~600 lines" and version "v1.1 (2025-12-30)" to "v2.0 (2026-01-28)"
  </action>
  <verify>
Run: `grep -r "compact-ui-design-guidelines" lbp_context/`
Expected: 0 matches (except historical changelog entries)

Run: `grep -r "design-system-guide" lbp_context/ | wc -l`
Expected: 10+ matches (all former references now point to new guide)
  </verify>
  <done>All lbp_context/ files reference design-system-guide.md instead of deleted compact-ui-design-guidelines.md</done>
</task>

</tasks>

<verification>
1. Run `grep -r "compact-ui-design-guidelines" lbp_context/ lbp_diretrizes/` â€” expect only historical changelog mentions
2. Run `grep -r "design-system-guide" lbp_context/` â€” expect all design system references use new filename
3. Run `grep "infrastructure-ready\|Infrastructure-ready" lbp_diretrizes/design-system-guide.md` â€” expect 3 matches
4. Manual: Verify design guide Section 7 (Rules) reflects actual codebase state
</verification>

<success_criteria>
- [ ] Motion tokens documented as infrastructure-ready in design guide
- [ ] Z-index tokens documented as infrastructure-ready in design guide
- [ ] Icon size tokens documented as infrastructure-ready in design guide
- [ ] TECHNICAL_CONTEXT.md references design-system-guide.md
- [ ] HighlightTab-context.md references design-system-guide.md
- [ ] prd.md references design-system-guide.md
- [ ] README.md references design-system-guide.md
- [ ] 0 references to compact-ui-design-guidelines.md remain (except historical changelogs)
</success_criteria>

<output>
After completion, create `.planning/phases/10-bug-fixes-guide-accuracy/10-02-SUMMARY.md`
</output>
