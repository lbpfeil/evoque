---
phase: 06-page-migration
plan: 07
type: execute
wave: 2
depends_on: ["06-01", "06-02", "06-03", "06-04", "06-05", "06-06"]
files_modified: []
autonomous: false

must_haves:
  truths:
    - "Zero text-[Npx] arbitrary typography values remain in any page or component (excluding StudyHeatmap text-[8px] exception)"
    - "All 6 pages use either PageHeader or have documented intentional deviations"
    - "All modals use token typography for titles and labels"
    - "Build succeeds with no new errors"
  artifacts: []
  key_links: []
---

<objective>
Verify the entire page migration is complete and visually correct.

Purpose: After 6 parallel plans modify 15+ files, this final plan runs a comprehensive audit to ensure zero arbitrary values remain, all pages build correctly, and the visual result is consistent. This is the quality gate before closing Phase 6.

Output: Verified migration with audit results. Phase 6 success criteria confirmed.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06-page-migration/06-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Run comprehensive arbitrary value audit</name>
  <files></files>
  <action>
    Run a codebase-wide grep for remaining arbitrary text values:

    1. `grep -rn "text-\[" pages/ components/ --include="*.tsx"` -- should find ONLY:
       - `w-[Npx]` column widths in Highlights.tsx and HighlightTableRow.tsx (intentional)
       - `h-[Npx]` height values (not typography, acceptable)
       - `max-w-[Npx]` or `max-h-[Npx]` layout constraints (acceptable)
       - `text-[8px]` in StudyHeatmap.tsx (documented exception -- too small for heatmap day labels)
       - NO `text-[9px]`, `text-[10px]`, or `text-[11px]` should remain anywhere

    2. Run `npx tsc --noEmit` -- should succeed (or show only pre-existing errors unrelated to this phase)

    3. Verify PageHeader usage:
       - Dashboard.tsx: `import { PageHeader }` + `size="default"`
       - Highlights.tsx: `import { PageHeader }` + `size="default"` + `actions=`
       - Study.tsx: `import { PageHeader }` + `size="compact"`
       - Settings.tsx: `import { PageHeader }` + `size="compact"`
       - Login.tsx: NO PageHeader (intentional -- centered card layout)
       - StudySession.tsx: NO PageHeader (intentional -- immersive custom header)

    4. Document the audit results. If any `text-[9px]`, `text-[10px]`, or `text-[11px]` remain, list the file and line number as gaps.
  </action>
  <verify>
    The grep output shows zero text-[9px], text-[10px], or text-[11px] across all pages and components.
    TypeScript compilation succeeds.
    PageHeader is used in exactly 4 pages (Dashboard, Highlights, Study, Settings).
  </verify>
  <done>Comprehensive audit confirms zero arbitrary typography values remain. All pages and components are token-aligned. Phase 6 success criteria met.</done>
</task>

<task type="checkpoint:human-verify" gate="blocking">
  <what-built>
    All 6 pages and 10+ components migrated to design token typography:
    - Login: token headings (text-heading)
    - Dashboard: PageHeader size='default', token typography throughout
    - Study: PageHeader size='compact', text-overline for labels
    - Settings: PageHeader size='compact', 15+ arbitrary values replaced
    - StudySession: 13 arbitrary values replaced, intentional deviations preserved
    - Highlights: PageHeader with actions, custom table preserved
    - All modals, sidebar, bottom nav: text-overline for labels/metadata
  </what-built>
  <how-to-verify>
    Run `npm run dev` and visually check each page:

    1. **Dashboard** (http://localhost:3000/#/): Title should be large (30px), stat card labels should be small uppercase
    2. **Highlights** (http://localhost:3000/#/highlights): Title should be large (30px) with "Manage Tags" button aligned right, table headers uppercase
    3. **Study** (http://localhost:3000/#/study): Title should be compact (18px), stat labels under "All Books" button should be tiny
    4. **Settings** (http://localhost:3000/#/settings): Title compact (18px), switch between all 4 tabs -- labels and hints should be tiny but readable
    5. **StudySession**: Start a study session -- highlight should be serif italic, rating buttons should have their colors, keyboard hints under buttons should be tiny
    6. **Login**: Log out and check -- logo should be medium-sized, card title should be readable

    Look for: Text that appears wrong-sized, missing labels, broken layouts.
  </how-to-verify>
  <resume-signal>Type "approved" or describe any visual issues</resume-signal>
</task>

</tasks>

<verification>
- Automated audit shows zero arbitrary text-[9-11px] values
- TypeScript builds successfully
- Human visual verification confirms all pages look correct
- PageHeader used in correct 4 pages with correct sizes
</verification>

<success_criteria>
- Phase 6 complete: all 7 active requirements (PAGE-01 through PAGE-04, PAGE-06 through PAGE-08) satisfied
- PAGE-05 (BookDetails) confirmed obsolete
- Zero arbitrary typography values remain (except documented StudyHeatmap exception)
- Human approval of visual results
</success_criteria>

<output>
After completion, create `.planning/phases/06-page-migration/06-07-SUMMARY.md`
</output>
