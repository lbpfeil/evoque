---
phase: 06-page-migration
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - pages/Settings.tsx
autonomous: true

must_haves:
  truths:
    - "Settings page uses PageHeader component with size='compact'"
    - "All text-[10px] in Settings.tsx replaced with text-overline"
    - "All text-[9px] in Settings.tsx replaced with text-overline"
    - "The single text-[11px] in Settings.tsx replaced with text-caption or text-overline"
    - "No arbitrary text-[Npx] values remain in Settings.tsx"
  artifacts:
    - path: "pages/Settings.tsx"
      provides: "Token-aligned settings page with PageHeader"
      contains: "PageHeader"
  key_links:
    - from: "pages/Settings.tsx"
      to: "components/patterns/PageHeader.tsx"
      via: "import and usage"
      pattern: "import.*PageHeader"
---

<objective>
Migrate Settings page to canonical design system patterns.

Purpose: Settings has 15+ arbitrary text values across 4 tab panels (import, library, account, preferences). It is the most text-value-dense page and exercises every token replacement pattern. The file is 800 lines so this plan is dedicated solely to it.

Output: Settings.tsx fully aligned with token system and PageHeader composition pattern.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06-page-migration/06-RESEARCH.md
@components/patterns/PageHeader.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Replace Settings header with PageHeader</name>
  <files>pages/Settings.tsx</files>
  <action>
    1. Add import: `import { PageHeader } from '../components/patterns/PageHeader'`

    2. Replace the manual header block (lines 284-289):
       ```
       <header className="mb-3">
         <h1 className="text-base font-semibold text-foreground">{t('title')}</h1>
         <p className="text-xs text-muted-foreground mt-1">{t('subtitle')}</p>
       </header>
       ```
       With:
       ```
       <PageHeader title={t('title')} description={t('subtitle')} size="compact" />
       ```

    Do NOT change the tab navigation structure, tab content, or any other part of the file in this task.
  </action>
  <verify>
    Grep pages/Settings.tsx for `PageHeader` -- should find 1 import + 1 usage.
    Grep pages/Settings.tsx for `text-base font-semibold text-foreground` in the header context -- should find zero (removed).
  </verify>
  <done>Settings.tsx uses PageHeader with size='compact'. Manual header block removed.</done>
</task>

<task type="auto">
  <name>Task 2: Replace all arbitrary text sizes in Settings.tsx</name>
  <files>pages/Settings.tsx</files>
  <action>
    Replace ALL arbitrary text-[Npx] values across all 4 tab panels:

    **text-[10px] -> text-overline (all instances):**
    - Line 318: Import subtitle `text-[10px]` -> `text-overline`
    - Line 386: File types badge `text-[10px]` -> `text-overline`
    - Line 437: Library book count `text-[10px]` -> `text-overline`
    - Line 508: Last import date `text-[10px]` -> `text-overline`
    - Line 557: Cards per day label `text-[10px]` -> `text-overline`
    - Line 577: New cards label `text-[10px]` -> `text-overline`
    - Line 600: Account subtitle `text-[10px]` -> `text-overline`
    - Line 639: Avatar hint `text-[10px]` -> `text-overline`
    - Line 706: Preferences subtitle `text-[10px]` -> `text-overline`
    - Line 724: Cards per book/day label `text-[10px]` -> `text-overline`
    - Line 740: New cards label `text-[10px]` -> `text-overline`

    **text-[9px] -> text-overline:**
    - Line 582: "Use defaults" hint `text-[9px]` -> `text-overline`
    - Line 756: "Apply global" hint `text-[9px]` -> `text-overline`

    **text-[11px] -> text-caption (12px):**
    - Line 399: Import instructions content `text-[11px]` -> `text-caption`
       (This is instruction body text, caption-sized is appropriate for readable instructions)

    **Verification approach:** After replacements, grep the entire file for `text-\[` to confirm zero arbitrary text sizes remain. Column widths (w-[Npx]) are NOT in this file, so the grep should return zero matches.

    Do NOT change any layout, spacing, event handlers, or business logic.
    Do NOT change text-xs or text-sm classes -- these map to existing tokens (text-caption=12px and text-body=14px respectively).
  </action>
  <verify>
    Grep pages/Settings.tsx for `text-\[\d+px\]` -- should find zero occurrences.
    Grep pages/Settings.tsx for `text-overline` -- should find 13 occurrences.
    Grep pages/Settings.tsx for `text-caption` -- should find at least 1 occurrence.
    Run `npx tsc --noEmit 2>&1 | grep -i "Settings"` -- no TypeScript errors.
  </verify>
  <done>Settings.tsx has zero arbitrary text-[Npx] values. All 15+ instances replaced with text-overline or text-caption.</done>
</task>

</tasks>

<verification>
- `npx tsc --noEmit` shows no new errors in Settings.tsx
- Zero `text-[` patterns remain in Settings.tsx (grep confirms)
- PageHeader is imported and used correctly with size='compact'
- All 4 tab panels (import, library, account, preferences) updated
</verification>

<success_criteria>
- Settings.tsx: PageHeader integrated, 15+ arbitrary values replaced (13 text-overline, 1 text-caption, 1 removed header)
- File compiles with no TypeScript errors
- No arbitrary text-[Npx] values remain
</success_criteria>

<output>
After completion, create `.planning/phases/06-page-migration/06-03-SUMMARY.md`
</output>
