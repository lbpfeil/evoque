---
phase: 06-page-migration
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - pages/Study.tsx
  - components/DeckTable.tsx
  - components/StudyStatusBadge.tsx
autonomous: true

must_haves:
  truths:
    - "Study page uses PageHeader component with size='compact'"
    - "All text-[10px] in Study.tsx replaced with text-overline"
    - "All text-[10px] in DeckTable.tsx replaced with text-overline"
    - "All text-[10px] in StudyStatusBadge.tsx replaced with text-overline"
  artifacts:
    - path: "pages/Study.tsx"
      provides: "Token-aligned study page with PageHeader"
      contains: "PageHeader"
    - path: "components/DeckTable.tsx"
      provides: "Token-aligned deck table"
    - path: "components/StudyStatusBadge.tsx"
      provides: "Token-aligned status badges"
  key_links:
    - from: "pages/Study.tsx"
      to: "components/patterns/PageHeader.tsx"
      via: "import and usage"
      pattern: "import.*PageHeader"
---

<objective>
Migrate Study page, DeckTable, and StudyStatusBadge to canonical design system patterns.

Purpose: Study is a low-complexity "tool page" with 5 arbitrary text-[10px] values. DeckTable and StudyStatusBadge are helper components used by Study that also have arbitrary values. Migrating all three together ensures the Study vertical slice is fully aligned.

Output: Study.tsx, DeckTable.tsx, and StudyStatusBadge.tsx fully aligned with token system.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/phases/06-page-migration/06-RESEARCH.md
@components/patterns/PageHeader.tsx
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate Study.tsx to PageHeader and token typography</name>
  <files>pages/Study.tsx</files>
  <action>
    1. Add import: `import { PageHeader } from '../components/patterns/PageHeader'`

    2. Replace the manual header block (lines 45-50):
       ```
       <header className="mb-3">
         <h1 className="text-base font-semibold text-foreground">{t('title')}</h1>
         <p className="text-xs text-muted-foreground mt-1">{t('subtitle')}</p>
       </header>
       ```
       With:
       ```
       <PageHeader title={t('title')} description={t('subtitle')} size="compact" />
       ```

    3. Replace ALL 5 instances of `text-[10px]` with `text-overline`:
       - Line 77: `text-background/50 text-[10px]` -> `text-background/50 text-overline`
       - Line 85: same pattern
       - Line 89: same pattern
       - Line 93: same pattern
       - Line 98: same pattern

    4. The section heading "By Book" (line 105): `text-xs font-semibold text-muted-foreground` -- keep as-is. text-xs (12px) = text-caption, and text-xs is already a valid token alias. No change needed.

    Do NOT change the "All Books" button layout, DeckTable integration, or EmptyDeckPopover usage.
    Do NOT change the StudyHeatmap integration.
    Do NOT remove the outer `p-4 sm:p-6` padding on the container div -- Study uses page-level padding differently from Dashboard (which gets padding from the layout wrapper).
  </action>
  <verify>
    Grep pages/Study.tsx for `text-[10px]` -- should find zero occurrences.
    Grep pages/Study.tsx for `text-overline` -- should find 5 occurrences.
    Grep pages/Study.tsx for `PageHeader` -- should find 1 import + 1 usage.
  </verify>
  <done>Study.tsx uses PageHeader with size='compact', all arbitrary text sizes replaced with text-overline.</done>
</task>

<task type="auto">
  <name>Task 2: Migrate DeckTable.tsx and StudyStatusBadge.tsx arbitrary values</name>
  <files>components/DeckTable.tsx, components/StudyStatusBadge.tsx</files>
  <action>
    **DeckTable.tsx:**
    1. Replace `text-[10px]` (line 54, the author subtitle) with `text-overline`:
       `sm:text-[10px]` -> `sm:text-overline`

    That is the only arbitrary value in DeckTable. The rest uses standard text-xs/text-sm classes which are already token-aligned.

    **StudyStatusBadge.tsx:**
    1. Replace ALL 4 instances of `text-[10px]` with `text-overline`:
       - Line 18 (review badge): `text-[10px]` -> `text-overline`
       - Line 25 (learning badge): `text-[10px]` -> `text-overline`
       - Line 32 (new badge): `text-[10px]` -> `text-overline`
       - Line 39 (not-started badge): `text-[10px]` -> `text-overline`

    Do NOT change the badge colors, icons, or layout structure.
    Do NOT change DeckTable's grid layout, click handlers, or responsive behavior.
  </action>
  <verify>
    Grep components/DeckTable.tsx for `text-\[10px\]` -- should find zero occurrences.
    Grep components/StudyStatusBadge.tsx for `text-\[10px\]` -- should find zero occurrences.
    Grep components/StudyStatusBadge.tsx for `text-overline` -- should find 4 occurrences.
  </verify>
  <done>DeckTable.tsx and StudyStatusBadge.tsx have zero arbitrary text sizes. All replaced with text-overline.</done>
</task>

</tasks>

<verification>
- `npx tsc --noEmit` shows no new errors in Study.tsx, DeckTable.tsx, or StudyStatusBadge.tsx
- Zero `text-[10px]` remain in any of these three files
- PageHeader is imported and used correctly in Study.tsx with size='compact'
</verification>

<success_criteria>
- Study.tsx: PageHeader integrated, 5 arbitrary values replaced
- DeckTable.tsx: 1 arbitrary value replaced
- StudyStatusBadge.tsx: 4 arbitrary values replaced
- All three files compile with no TypeScript errors
</success_criteria>

<output>
After completion, create `.planning/phases/06-page-migration/06-02-SUMMARY.md`
</output>
