---
phase: 05-component-standardization
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - components/ui/button.tsx
  - components/ui/input.tsx
  - components/ui/badge.tsx
autonomous: true

must_haves:
  truths:
    - "Button renders at h-8 (32px) by default, with explicit size variants for h-7 (sm), h-10 (default/original), and h-11 (lg)"
    - "Input renders at h-8 (32px) by default instead of h-10"
    - "Badge h-5 sizing confirmed as token-aligned (no change needed if already correct)"
    - "All existing Button usages (TagManagerSidebar, TagSelector) continue working with no visual regression"
  artifacts:
    - path: "components/ui/button.tsx"
      provides: "CVA variants with compact default"
      contains: "compact.*h-8"
    - path: "components/ui/input.tsx"
      provides: "Input with h-8 default height"
      contains: "h-8"
    - path: "components/ui/badge.tsx"
      provides: "Badge with verified token alignment"
      contains: "h-5"
  key_links:
    - from: "components/TagManagerSidebar.tsx"
      to: "components/ui/button.tsx"
      via: "import { Button }"
      pattern: "size=\"icon\""
    - from: "components/TagSelector.tsx"
      to: "components/ui/button.tsx"
      via: "import { Button }"
      pattern: "variant=\"ghost\""
---

<objective>
Adjust shadcn/ui component CVA defaults to match the design token system from Phase 4.

Purpose: Eliminate the need for arbitrary className overrides when using Button, Input, and Badge. Every component should render at the correct size by default.

Output: Updated button.tsx, input.tsx, and badge.tsx with token-aligned defaults.
</objective>

<execution_context>
@C:\Users\lbp80\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\lbp80\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@components/ui/button.tsx
@components/ui/input.tsx
@components/ui/badge.tsx
@.planning/phases/05-component-standardization/05-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Adjust Button CVA variants for token-aligned defaults</name>
  <files>components/ui/button.tsx</files>
  <action>
Modify the CVA `size` variants in button.tsx to add a "compact" variant and change the default:

Current size variants:
```
default: "h-10 px-4 py-2"
sm: "h-9 rounded-md px-3"
lg: "h-11 rounded-md px-8"
icon: "h-10 w-10"
```

New size variants:
```
default: "h-10 px-4 py-2"      // Keep original for backward compat
compact: "h-8 px-3 py-1.5"     // NEW: Matches compact design system (32px)
sm: "h-7 rounded-md px-2.5"    // Adjusted: Smaller compact (28px)
lg: "h-11 rounded-md px-8"     // Unchanged
icon: "h-8 w-8"                // Adjusted: Match compact default (was h-10 w-10)
```

Change defaultVariants.size from "default" to "compact".

DO NOT change:
- The component structure (forwardRef, Slot, etc.)
- The variant definitions for color/style variants
- The ButtonProps interface (CVA VariantProps will auto-include "compact")
- Any data-slot or data-* attributes

WHY compact as default: The design system targets h-8 (32px) as the standard interactive element height. Only 2 files import Button (TagManagerSidebar and TagSelector), and all 9 usages in TagManagerSidebar specify size="icon" explicitly. The 1 usage in TagSelector uses variant="ghost" with custom className. No usages rely on the implicit "default" size.

WHY icon changes to h-8 w-8: Consistent with the new compact default height. TagManagerSidebar already overrides icon buttons with className="h-5 w-5", so the h-8 default won't affect existing code.
  </action>
  <verify>
Run `npm run build` and confirm no TypeScript errors.
Grep for `<Button` in components/ and pages/ to verify no usage relies on implicit default size without explicit override.
  </verify>
  <done>Button defaults to h-8 (compact). Size variants include default (h-10), compact (h-8), sm (h-7), lg (h-11), icon (h-8 w-8). Build passes.</done>
</task>

<task type="auto">
  <name>Task 2: Adjust Input height and verify Badge alignment</name>
  <files>components/ui/input.tsx, components/ui/badge.tsx</files>
  <action>
**Input (input.tsx):**
Change the hardcoded height from `h-10` to `h-8` in the className string.

Current: `"flex h-10 w-full rounded-md border border-input bg-background..."`
After:  `"flex h-8 w-full rounded-md border border-input bg-background..."`

Also adjust padding from `px-3 py-2` to `px-2.5 py-1.5` for proportion consistency with the smaller height.

Current: `"...px-3 py-2 text-sm..."`
After:  `"...px-2.5 py-1.5 text-sm..."`

WHY safe: Only 4 Input usages exist (all in TagManagerSidebar.tsx). All are inline text inputs for tag editing.

DO NOT change the component structure, InputProps interface, or any other className parts.

**Badge (badge.tsx):**
Verify that `h-5` in the base CVA string matches the token system. The compact UI design guide specifies badges at h-5 (20px) with text-xs (12px) and px-2 padding. The current badge already uses exactly these values:
- `h-5` (20px height)
- `text-xs` (12px font)
- `px-2` (8px horizontal padding)

If these values match (they should based on codebase analysis), no changes needed. Document this verification in the commit message.

Badge is NOT imported anywhere in the app (zero usages found via grep), so even if changes were needed, there's zero regression risk.
  </action>
  <verify>
Run `npm run build` and confirm no TypeScript errors.
Grep for `<Input` in components/ and pages/ to verify no usage is broken.
  </verify>
  <done>Input defaults to h-8 (32px) with proportional padding. Badge confirmed at h-5 (token-aligned, no changes needed). Build passes.</done>
</task>

</tasks>

<verification>
1. `npm run build` succeeds with no new errors or warnings
2. Grep `<Button` in components/ and pages/ -- all usages have explicit size or custom className
3. Grep `<Input` in components/ and pages/ -- all 4 usages in TagManagerSidebar still work
4. Badge h-5 confirmed as token-aligned
</verification>

<success_criteria>
- Button compact variant (h-8) is the new default
- Input height is h-8 (not h-10)
- Badge verified as already token-aligned
- `npm run build` passes
- No visual regression in existing Button/Input usages
</success_criteria>

<output>
After completion, create `.planning/phases/05-component-standardization/05-01-SUMMARY.md`
</output>
