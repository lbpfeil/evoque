---
phase: 08-token-consumption
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - pages/Settings.tsx
  - pages/Login.tsx
autonomous: true

must_haves:
  truths:
    - "Settings page has zero raw numeric spacing values (p-4, gap-6, mb-3 etc.) -- all use semantic tokens"
    - "Settings page has zero raw typography sizes (text-sm, text-xs) -- all use text-body, text-caption tokens"
    - "Settings page has zero raw Tailwind color classes -- all use semantic color tokens"
    - "Login page has zero raw numeric spacing, typography, or color values"
    - "Both pages build and render without visual breakage"
  artifacts:
    - path: "pages/Settings.tsx"
      provides: "Settings page with full semantic token consumption"
      contains: "p-md|gap-sm|text-body|text-caption"
    - path: "pages/Login.tsx"
      provides: "Login page with full semantic token consumption"
      contains: "p-md|gap-sm|text-body|text-caption"
  key_links:
    - from: "tailwind.config.js"
      to: "pages/Settings.tsx"
      via: "semantic spacing/typography/color tokens"
      pattern: "(p|gap|m[tblrxy]?)-(xxs|xs|sm|md|lg|xl|2xl|3xl)"
    - from: "tailwind.config.js"
      to: "pages/Login.tsx"
      via: "semantic spacing/typography/color tokens"
      pattern: "text-(body|caption|heading|overline)"
---

<objective>
Migrate Settings.tsx and Login.tsx from raw Tailwind values to semantic design tokens for spacing, typography, and color.

Purpose: Settings is the highest raw-value page (~117 replacements). Login is low-complexity (~20). Together they balance the workload while keeping plan scope manageable.
Output: Both pages use exclusively semantic tokens -- zero raw numeric spacing, zero raw text sizes, zero raw colors.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/08-token-consumption/08-RESEARCH.md
@tailwind.config.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Migrate Settings.tsx to semantic tokens</name>
  <files>pages/Settings.tsx</files>
  <action>
Replace ALL raw Tailwind values in Settings.tsx with semantic token equivalents using these exact mappings:

**Spacing (numeric -> semantic):**
- `p-1` / `m-1` -> `p-xxs` / `m-xxs` (4px)
- `p-1.5` / gap-1.5 -> `p-xs` / `gap-xs` (8px, +2px acceptable)
- `p-2` / `gap-2` / `m-2` -> `p-xs` / `gap-xs` / `m-xs` (8px)
- `p-2.5` -> `p-sm` (12px, +2px acceptable)
- `p-3` / `gap-3` / `m-3` -> `p-sm` / `gap-sm` / `m-sm` (12px)
- `p-4` / `gap-4` / `m-4` -> `p-md` / `gap-md` / `m-md` (16px)
- `p-5` -> `p-lg` (24px, +4px verify)
- `p-6` / `gap-6` / `m-6` -> `p-lg` / `gap-lg` / `m-lg` (24px)
- `p-8` / `gap-8` / `m-8` -> `p-xl` / `gap-xl` / `m-xl` (32px)
- `p-10` -> `p-2xl` (48px, +8px verify)
- `p-12` -> `p-2xl` (48px)
- `space-y-*` and `space-x-*` follow same mapping (e.g., `space-y-3` -> `space-y-sm`)

**Typography (raw -> semantic):**
- `text-xs` -> `text-caption` (12px)
- `text-sm` -> `text-body` (14px)
- `text-base` -> case-by-case: body content -> `text-body`, input fields -> keep `text-base`
- `text-lg` -> `text-heading` (18px)

**Colors (raw -> semantic):**
- `text-green-600 dark:text-green-400` -> `text-success` (single class replaces both)
- `bg-blue-600` (avatar) -> `bg-primary`
- `text-red-*` -> `text-destructive`
- `bg-red-50` -> `bg-destructive/10`
- `bg-green-500/10` -> `bg-success/10`

**Responsive pairs:** Always migrate BOTH the base and responsive variant together. Example: `px-4 sm:px-6` -> `px-md sm:px-lg`.

**Sub-4px micro-spacing (KEEP raw):** Any `gap-0.5`, `py-0.5`, `p-0.5`, `space-y-0.5` stays as-is. The semantic grid starts at 4px.

**Do NOT touch:** Any `components/ui/` imports or their props -- only the className strings in Settings.tsx itself.
  </action>
  <verify>
Run these grep checks (all should return zero matches or only documented exceptions):
- `grep -nP "\b(p|px|py|pt|pb|pl|pr|m|mx|my|mt|mb|ml|mr|gap|space-[xy])-[0-9]" pages/Settings.tsx` -- only sub-4px (0.5) values allowed
- `grep -n "text-\(sm\|xs\|base\|lg\)" pages/Settings.tsx` -- zero matches (except text-base in input contexts if kept)
- `grep -nP "\b(text|bg|border)-(zinc|gray|red|amber|blue|green|yellow|orange)-[0-9]+" pages/Settings.tsx` -- zero matches
- `npm run build` succeeds
  </verify>
  <done>Settings.tsx uses only semantic tokens for spacing, typography, and color. Zero raw numeric spacing values, zero raw text-sm/text-xs, zero raw Tailwind colors (except documented sub-4px micro-spacing).</done>
</task>

<task type="auto">
  <name>Task 2: Migrate Login.tsx to semantic tokens</name>
  <files>pages/Login.tsx</files>
  <action>
Replace ALL raw Tailwind values in Login.tsx with semantic token equivalents using the same mappings as Task 1.

Login.tsx is ~119 lines with ~20 raw values. Apply the same spacing, typography, and color mappings.

**Specific Login.tsx notes:**
- Login uses `text-heading` already (decided in Phase 6). Verify no regression.
- No raw colors expected (audit shows 0 color replacements needed).
- Focus on spacing and typography replacements.

**Sub-4px micro-spacing (KEEP raw):** Any values at 0.5 stay as-is.
  </action>
  <verify>
Run these grep checks:
- `grep -nP "\b(p|px|py|pt|pb|pl|pr|m|mx|my|mt|mb|ml|mr|gap|space-[xy])-[0-9]" pages/Login.tsx` -- only sub-4px (0.5) allowed
- `grep -n "text-\(sm\|xs\|base\|lg\)" pages/Login.tsx` -- zero matches
- `grep -nP "\b(text|bg|border)-(zinc|gray|red|amber|blue|green|yellow|orange)-[0-9]+" pages/Login.tsx` -- zero matches
- `npm run build` succeeds
  </verify>
  <done>Login.tsx uses only semantic tokens. Zero raw spacing, typography, or color values remain (except sub-4px micro-spacing).</done>
</task>

</tasks>

<verification>
After both tasks complete:
1. `npm run build` passes with no new errors
2. Grep for raw values across both files returns zero matches (or only documented exceptions)
3. Grep confirms semantic tokens ARE present: `grep -c "p-md\|gap-sm\|text-body\|text-caption" pages/Settings.tsx pages/Login.tsx` shows significant counts
</verification>

<success_criteria>
- Settings.tsx: ~67 spacing + ~45 typography + ~5 color replacements completed
- Login.tsx: ~15 spacing + ~5 typography replacements completed
- Zero raw numeric spacing, raw text sizes, or raw Tailwind colors remain in either file
- Build succeeds, no visual breakage
</success_criteria>

<output>
After completion, create `.planning/phases/08-token-consumption/08-01-SUMMARY.md`
</output>
