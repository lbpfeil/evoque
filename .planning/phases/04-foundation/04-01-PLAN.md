---
phase: 04-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - public/locales/pt-BR/common.json
  - public/locales/pt-BR/auth.json
  - public/locales/pt-BR/highlights.json
  - public/locales/pt-BR/study.json
  - public/locales/pt-BR/session.json
  - public/locales/pt-BR/settings.json
  - public/locales/pt-BR/dashboard.json
  - public/locales/pt-BR/errors.json
autonomous: true

must_haves:
  truths:
    - "i18next and react-i18next packages are installed"
    - "Translation files exist for PT-BR language"
    - "Namespace structure matches feature areas"
  artifacts:
    - path: "package.json"
      provides: "i18n dependencies"
      contains: "react-i18next"
    - path: "public/locales/pt-BR/common.json"
      provides: "Common UI translations namespace"
      min_lines: 3
    - path: "public/locales/pt-BR/auth.json"
      provides: "Auth translations namespace"
      min_lines: 3
    - path: "public/locales/pt-BR/highlights.json"
      provides: "Highlights page translations namespace"
      min_lines: 3
    - path: "public/locales/pt-BR/study.json"
      provides: "Study page translations namespace"
      min_lines: 3
    - path: "public/locales/pt-BR/session.json"
      provides: "Study session translations namespace"
      min_lines: 3
    - path: "public/locales/pt-BR/settings.json"
      provides: "Settings page translations namespace"
      min_lines: 3
    - path: "public/locales/pt-BR/dashboard.json"
      provides: "Dashboard translations namespace"
      min_lines: 3
    - path: "public/locales/pt-BR/errors.json"
      provides: "Error messages translations namespace"
      min_lines: 3
  key_links:
    - from: "package.json"
      to: "node_modules"
      via: "npm install"
      pattern: "i18next.*react-i18next"
---

<objective>
Install i18n dependencies and create the PT-BR translation file structure with all required namespaces.

Purpose: Establish the foundation for react-i18next by having all dependencies and translation files in place before configuration.

Output: package.json with i18n dependencies, public/locales/pt-BR/ directory with 8 namespace JSON files.
</objective>

<execution_context>
@C:\Users\lbp80\.claude/get-shit-done/workflows/execute-plan.md
@C:\Users\lbp80\.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/research/SUMMARY.md
@package.json
</context>

<tasks>

<task type="auto">
  <name>Task 1: Install i18n dependencies</name>
  <files>package.json</files>
  <action>
Install the following npm packages:
- i18next (core i18n engine)
- react-i18next (React integration with hooks)
- i18next-browser-languagedetector (auto language detection from browser/localStorage)
- i18next-http-backend (for loading translation files from public folder)

Run: `npm install i18next react-i18next i18next-browser-languagedetector i18next-http-backend`

Do NOT install vite-plugin-i18next-loader (we'll use http-backend for simplicity and lazy loading support).
  </action>
  <verify>
Run `npm ls i18next react-i18next i18next-browser-languagedetector i18next-http-backend` and confirm all 4 packages are installed.
Check package.json contains all 4 dependencies.
  </verify>
  <done>
package.json has i18next, react-i18next, i18next-browser-languagedetector, and i18next-http-backend in dependencies.
  </done>
</task>

<task type="auto">
  <name>Task 2: Create PT-BR translation file structure</name>
  <files>
public/locales/pt-BR/common.json
public/locales/pt-BR/auth.json
public/locales/pt-BR/highlights.json
public/locales/pt-BR/study.json
public/locales/pt-BR/session.json
public/locales/pt-BR/settings.json
public/locales/pt-BR/dashboard.json
public/locales/pt-BR/errors.json
  </files>
  <action>
Create the directory structure: `public/locales/pt-BR/`

Create 8 namespace JSON files with placeholder structure. Each file should have a test key and a brief description comment (JSON doesn't support comments, so use a "_meta" key).

Key naming convention (semantic, hierarchical):
- Use dot notation for hierarchy in code: `t('common:buttons.save')`
- Use nested objects in JSON for organization
- Lowercase keys, no spaces, use underscores for multi-word

Example structure for common.json:
```json
{
  "_meta": "Shared UI elements (buttons, nav, common labels)",
  "buttons": {
    "save": "Salvar",
    "cancel": "Cancelar",
    "delete": "Excluir",
    "edit": "Editar",
    "close": "Fechar",
    "confirm": "Confirmar",
    "back": "Voltar"
  },
  "loading": "Carregando...",
  "test": "Tradução funcionando!"
}
```

Create similar placeholder structures for each namespace:
- auth.json: login, signup, logout, password, email
- highlights.json: list, filters, actions, empty states
- study.json: decks, cards, review, stats
- session.json: rating buttons (again, hard, good, easy), progress, flip
- settings.json: tabs (import, library, account, preferences), form labels
- dashboard.json: stats, charts, welcome
- errors.json: validation, network, generic

Include enough structure to verify namespaces work, but don't extract actual strings yet (that's Phase 5).
  </action>
  <verify>
Run `ls public/locales/pt-BR/` and confirm 8 JSON files exist.
Run `cat public/locales/pt-BR/common.json` and verify valid JSON with test key.
  </verify>
  <done>
8 translation namespace files exist in public/locales/pt-BR/ with valid JSON structure and placeholder keys following semantic naming convention.
  </done>
</task>

</tasks>

<verification>
1. `npm ls i18next` shows i18next@^25 installed
2. `npm ls react-i18next` shows react-i18next@^16 installed
3. `ls public/locales/pt-BR/*.json | wc -l` returns 8
4. All JSON files are valid (no parse errors)
</verification>

<success_criteria>
- 4 i18n packages installed in package.json
- 8 namespace JSON files created in public/locales/pt-BR/
- All JSON files are syntactically valid
- Test keys present in each namespace for verification in Plan 02
</success_criteria>

<output>
After completion, create `.planning/phases/04-foundation/04-01-SUMMARY.md`
</output>
