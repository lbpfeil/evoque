---
phase: 11-quick-fixes
plan: 03
type: execute
wave: 1
depends_on: []
files_modified:
  - components/Sidebar.tsx
  - index.html
  - vite.config.ts
  - hooks/useTheme.ts
autonomous: true

must_haves:
  truths:
    - "Sidebar icons are centered when sidebar is collapsed"
    - "Browser tab shows new favicon (favicon-evq)"
    - "hooks/useTheme.ts file no longer exists"
  artifacts:
    - path: "components/Sidebar.tsx"
      provides: "Centered icons when collapsed"
      contains: "justify-center"
    - path: "index.html"
      provides: "Updated favicon paths"
      contains: "favicon-evq"
    - path: "vite.config.ts"
      provides: "Updated PWA favicon paths"
      contains: "favicon-evq"
  key_links: []
---

<objective>
Fix sidebar icon centering, update favicon, and remove dead code

Purpose: Polish navigation UX, update branding asset, and clean up unused code
Output: Centered sidebar icons, new favicon active, useTheme.ts deleted
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/11-quick-fixes/11-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Center sidebar icons when collapsed (FIX-05)</name>
  <files>components/Sidebar.tsx</files>
  <action>
In Sidebar.tsx, fix icon alignment when the sidebar is collapsed.

1. Find the NavLink components for navigation items (research indicates lines 72-93). They likely have:
   ```tsx
   `flex items-center pl-sm pr-sm py-sm rounded-md ...`
   ```

2. The issue is fixed left padding (`pl-sm`) when collapsed. Change to conditional centering based on `isExpanded` state:
   ```tsx
   className={({ isActive }) =>
     cn(
       "flex items-center py-sm rounded-md text-body font-medium transition-colors duration-200",
       isExpanded ? "px-sm" : "justify-center w-full",
       isActive ? "bg-sidebar-accent text-sidebar-accent-foreground" : "text-muted-foreground hover:..."
     )
   }
   ```

3. Check the logo area (research indicates line 44) for the same issue. The logo/icon should also center when collapsed.

4. Check the user avatar/profile section (research indicates line 129) for the same issue.

5. Ensure the transition is smooth - icons should not "jump" during expand/collapse animation.

Key: When `isExpanded` is false, use `justify-center w-full` to center the icon. When expanded, use `px-sm` for normal padding.
  </action>
  <verify>
Run `npm run dev`. Toggle the sidebar collapse/expand. Verify:
1. When collapsed, all nav icons are perfectly centered horizontally
2. When expanded, icons have normal left padding with labels visible
3. The transition between states is smooth (no jumping)
4. Logo/brand icon is centered when collapsed
5. User avatar is centered when collapsed
  </verify>
  <done>FIX-05 complete: Sidebar icons are perfectly centered when collapsed</done>
</task>

<task type="auto">
  <name>Task 2: Update favicon to new design (FIX-06)</name>
  <files>index.html, vite.config.ts</files>
  <action>
Update favicon references to use the new favicon-evq assets.

1. In `index.html`, find the favicon link tags (likely around line 16). Update to:
   ```html
   <link rel="icon" type="image/svg+xml" href="/favicon-evq/favicon.svg" />
   <link rel="icon" type="image/x-icon" href="/favicon-evq/favicon.ico" />
   <link rel="apple-touch-icon" href="/favicon-evq/apple-touch-icon.png" />
   ```
   Remove any old favicon references that point to root `/favicon.ico`.

2. In `vite.config.ts`, find the PWA configuration's `includeAssets` array (likely around line 17). Update to include the new favicon paths:
   ```typescript
   includeAssets: [
     'favicon-evq/favicon.ico',
     'favicon-evq/favicon.svg',
     'favicon-evq/apple-touch-icon.png',
     'favicon-evq/favicon-96x96.png',
     'favicon-evq/web-app-manifest-192x192.png',
     'favicon-evq/web-app-manifest-512x512.png'
   ],
   ```

3. Also check if the PWA manifest configuration in vite.config.ts references icon paths. Update those to use favicon-evq paths:
   ```typescript
   icons: [
     {
       src: '/favicon-evq/web-app-manifest-192x192.png',
       sizes: '192x192',
       type: 'image/png'
     },
     {
       src: '/favicon-evq/web-app-manifest-512x512.png',
       sizes: '512x512',
       type: 'image/png'
     }
   ]
   ```

The favicon-evq folder already exists in public/ with all required assets.
  </action>
  <verify>
Run `npm run build && npm run preview` (or just `npm run dev` with hard refresh).
1. Check browser tab - new favicon should appear (may need Ctrl+Shift+R to clear cache)
2. Check DevTools Network tab - favicon requests go to /favicon-evq/ paths
3. No 404 errors for favicon assets
4. PWA install shows correct icon (if testing PWA)
  </verify>
  <done>FIX-06 complete: New favicon-evq is active in browser tab and PWA</done>
</task>

<task type="auto">
  <name>Task 3: Remove unused useTheme hook (FIX-08)</name>
  <files>hooks/useTheme.ts</files>
  <action>
Delete the unused `hooks/useTheme.ts` file.

The file exists at `hooks/useTheme.ts` and is confirmed unused:
- ThemeProvider.tsx exports its own `useTheme` hook
- ThemeToggle.tsx imports from `./ThemeProvider`, not `../hooks/useTheme`
- Grep confirms no files import from `hooks/useTheme`

Simply delete the file. No other changes needed.

If the hooks directory becomes empty after deletion, leave the empty directory (or delete it if preferred - no other hooks are used).
  </action>
  <verify>
1. Verify file is deleted: `ls hooks/useTheme.ts` should fail
2. Run `npm run build` - should succeed with no import errors
3. Run `npm run dev` - app should work normally
4. Theme toggle should still work (uses ThemeProvider's useTheme)
  </verify>
  <done>FIX-08 complete: Dead code removed, hooks/useTheme.ts deleted</done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `npm run build` succeeds without errors
2. Sidebar icons center correctly when collapsed
3. New favicon visible in browser tab
4. hooks/useTheme.ts no longer exists
5. Theme toggle still works
</verification>

<success_criteria>
- FIX-05: Sidebar icons use `justify-center` when collapsed
- FIX-06: index.html and vite.config.ts reference favicon-evq paths
- FIX-08: hooks/useTheme.ts deleted, no import errors
- No regressions in sidebar animation or theme functionality
</success_criteria>

<output>
After completion, create `.planning/phases/11-quick-fixes/11-03-SUMMARY.md`
</output>
