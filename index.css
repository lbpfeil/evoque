@import "@fontsource-variable/outfit";

@tailwind base;
@tailwind components;
@tailwind utilities;
 
@layer base {
  :root {
    --background: oklch(0.97 0.015 85);
    --foreground: oklch(0.18 0.01 50);
    --card: oklch(0.98 0.012 80);
    --card-foreground: oklch(0.18 0.01 50);
    --popover: oklch(0.98 0.012 80);
    --popover-foreground: oklch(0.18 0.01 50);
    --primary: oklch(0.67 0.16 58);
    --primary-foreground: oklch(0.99 0.02 95);
    --secondary: oklch(0.93 0.015 75);
    --secondary-foreground: oklch(0.25 0.01 55);
    --muted: oklch(0.94 0.012 78);
    --muted-foreground: oklch(0.50 0.02 55);
    --accent: oklch(0.92 0.05 70);
    --accent-foreground: oklch(0.25 0.01 55);
    --destructive: oklch(0.58 0.22 30);
    --destructive-foreground: oklch(0.98 0.01 90);
    --border: oklch(0.88 0.015 70);
    --input: oklch(0.88 0.015 70);
    --ring: oklch(0.67 0.16 58);
    --radius: 0.75rem;

    /* Status Colors (TOKENS-08) - study card states */
    --status-new: oklch(0.55 0.20 250);         /* Blue - New cards */
    --status-learning: oklch(0.70 0.15 85);     /* Amber - Learning cards */
    --status-review: oklch(0.60 0.18 145);      /* Green - Review cards */
    --status-foreground: oklch(0.99 0.01 90);   /* White text on status badges */

    /* Tag Colors (TOKENS-08) - tag scope distinction */
    --tag-global: oklch(0.55 0.20 250);         /* Blue - Global tags */
    --tag-book: oklch(0.70 0.15 85);            /* Amber - Book-specific tags */

    /* Success Color (TOKENS-08) - success messages */
    --success: oklch(0.60 0.18 145);            /* Green - Success state */

    /* Typography Scale (TOKENS-01) - 6 named sizes */
    --text-display: 2rem;        /* 32px - Hero text, rare */
    --text-title: 1.875rem;      /* 30px - Page titles (text-3xl equivalent) */
    --text-heading: 1.125rem;    /* 18px - Section headings (text-lg equivalent) */
    --text-body: 0.875rem;       /* 14px - Default body text (text-sm equivalent) */
    --text-caption: 0.75rem;     /* 12px - Metadata, labels (text-xs equivalent) */
    --text-overline: 0.625rem;   /* 10px - Tiny labels, uppercase (text-[10px] equivalent) */

    /* Spacing Scale (TOKENS-02) - 8 semantic tokens on 4px grid */
    --space-xxs: 0.25rem;   /* 4px */
    --space-xs: 0.5rem;     /* 8px */
    --space-sm: 0.75rem;    /* 12px */
    --space-md: 1rem;       /* 16px */
    --space-lg: 1.5rem;     /* 24px */
    --space-xl: 2rem;       /* 32px */
    --space-2xl: 3rem;      /* 48px */
    --space-3xl: 4rem;      /* 64px */

    /* Shadow Scale (TOKENS-04) - 3 elevations */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    --shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);

    /* Motion Tokens (TOKENS-05) - 3 durations + 3 easings */
    --duration-fast: 150ms;
    --duration-base: 200ms;
    --duration-slow: 300ms;
    --ease-in: cubic-bezier(0.4, 0, 1, 1);
    --ease-out: cubic-bezier(0, 0, 0.2, 1);
    --ease-in-out: cubic-bezier(0.4, 0, 0.2, 1);

    /* Z-Index Layers (TOKENS-07) - 7 semantic layers */
    --z-base: 0;
    --z-dropdown: 1000;
    --z-sticky: 1020;
    --z-fixed: 1030;
    --z-modal-backdrop: 1040;
    --z-modal: 1050;
    --z-popover: 1060;
    --z-tooltip: 1070;

    /* Font family */
    --font-sans: "Outfit Variable", "Outfit", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;

    /* Chart colors - warm earth tones */
    --chart-1: oklch(0.67 0.16 58);
    --chart-2: oklch(0.62 0.18 145);
    --chart-3: oklch(0.55 0.20 250);
    --chart-4: oklch(0.70 0.15 35);
    --chart-5: oklch(0.58 0.22 30);

    /* Sidebar colors - match background for consistency */
    --sidebar: oklch(0.97 0.015 85);
    --sidebar-foreground: oklch(0.18 0.01 50);
    --sidebar-primary: oklch(0.67 0.16 58);
    --sidebar-primary-foreground: oklch(0.99 0.02 95);
    --sidebar-accent: oklch(0.92 0.05 70);
    --sidebar-accent-foreground: oklch(0.25 0.01 55);
    --sidebar-border: oklch(0.88 0.015 70);
    --sidebar-ring: oklch(0.67 0.16 58);
  }

  .dark {
    --background: oklch(0.14 0.012 55);
    --foreground: oklch(0.96 0.006 80);
    --card: oklch(0.18 0.015 55);
    --card-foreground: oklch(0.96 0.006 80);
    --popover: oklch(0.18 0.015 55);
    --popover-foreground: oklch(0.96 0.006 80);
    --primary: oklch(0.75 0.15 68);
    --primary-foreground: oklch(0.20 0.06 50);
    --secondary: oklch(0.22 0.012 55);
    --secondary-foreground: oklch(0.96 0.006 80);
    --muted: oklch(0.20 0.012 50);
    --muted-foreground: oklch(0.68 0.02 60);
    --accent: oklch(0.24 0.04 55);
    --accent-foreground: oklch(0.96 0.006 80);
    --destructive: oklch(0.70 0.20 25);
    --destructive-foreground: oklch(0.98 0.01 90);
    --border: oklch(1 0 0 / 10%);
    --input: oklch(1 0 0 / 12%);
    --ring: oklch(0.60 0.12 60);

    /* Status Colors (TOKENS-08) - study card states (dark mode) */
    --status-new: oklch(0.65 0.18 250);
    --status-learning: oklch(0.78 0.13 85);
    --status-review: oklch(0.70 0.16 145);
    --status-foreground: oklch(0.99 0.01 90);

    /* Tag Colors (TOKENS-08) - tag scope distinction (dark mode) */
    --tag-global: oklch(0.65 0.18 250);
    --tag-book: oklch(0.78 0.13 85);

    /* Success Color (TOKENS-08) - success messages (dark mode) */
    --success: oklch(0.70 0.16 145);

    /* Chart colors - warm dark mode variants */
    --chart-1: oklch(0.75 0.15 68);
    --chart-2: oklch(0.70 0.16 145);
    --chart-3: oklch(0.65 0.18 250);
    --chart-4: oklch(0.78 0.13 35);
    --chart-5: oklch(0.70 0.20 25);

    /* Sidebar colors - SAME as background for consistency */
    --sidebar: oklch(0.14 0.012 55);
    --sidebar-foreground: oklch(0.96 0.006 80);
    --sidebar-primary: oklch(0.75 0.15 68);
    --sidebar-primary-foreground: oklch(0.20 0.06 50);
    --sidebar-accent: oklch(0.24 0.04 55);
    --sidebar-accent-foreground: oklch(0.96 0.006 80);
    --sidebar-border: oklch(1 0 0 / 10%);
    --sidebar-ring: oklch(0.60 0.12 60);
  }
}
 
@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Progress Bar Flow Animation */
@keyframes progress-flow {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.progress-bar-animated {
  background: linear-gradient(
    90deg,
    var(--foreground) 0%,
    var(--muted-foreground) 25%,
    var(--foreground) 50%,
    var(--muted-foreground) 75%,
    var(--foreground) 100%
  );
  background-size: 200% 100%;
  animation: progress-flow 2s ease-in-out infinite;
}

/* Safe area support for iPhone notch/home indicator */
.safe-area-inset-bottom {
  padding-bottom: env(safe-area-inset-bottom, 0);
}

.safe-area-inset-top {
  padding-top: env(safe-area-inset-top, 0);
}
