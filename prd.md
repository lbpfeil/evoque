
Atualmente, os highlights do Kindle ficam dispersos no arquivo MyClippings.txt, sem uma estrutura eficiente para revisÃ£o e aprendizado. Este produto oferece uma soluÃ§Ã£o completa que vai alÃ©m da simples organizaÃ§Ã£o, integrando um sistema de repetiÃ§Ã£o espaÃ§ada que transforma highlights passivos em conhecimento ativo e duradouro.

### 1.2 Problema

**Problema principal:** Leitores que utilizam Kindle acumulam centenas ou milhares de highlights ao longo do tempo, mas nÃ£o possuem uma ferramenta adequada para:
- Organizar e categorizar esses highlights de forma eficiente
- Revisar periodicamente o conteÃºdo destacado
- Transformar highlights em conhecimento retido a longo prazo
- Acompanhar seu progresso de leitura e aprendizado
- Acessar seus highlights de qualquer dispositivo

**Problemas secundÃ¡rios:**
- O arquivo MyClippings.txt Ã© apenas texto puro, sem estrutura visual
- Identificar novos highlights entre importaÃ§Ãµes Ã© manual e trabalhoso
- NÃ£o hÃ¡ contexto visual (capas, autores) associado aos highlights
- A sincronizaÃ§Ã£o com aplicativos de repetiÃ§Ã£o espaÃ§ada (como Anki) Ã© manual e fragmentada

### 1.3 SoluÃ§Ã£o

Uma aplicaÃ§Ã£o web que oferece:
- **ImportaÃ§Ã£o inteligente** do MyClippings.txt com detecÃ§Ã£o automÃ¡tica de novos conteÃºdos
- **Biblioteca visual** organizando highlights por livros com capas e metadados
- **Sistema de estudo integrado** baseado em repetiÃ§Ã£o espaÃ§ada (algoritmo SM-2)
- **Interface moderna e limpa** inspirada em dashboards de analytics contemporÃ¢neos
- **Analytics e insights** sobre padrÃµes de leitura e progresso de aprendizado
- **ExperiÃªncia responsiva** acessÃ­vel de qualquer dispositivo

### 1.4 PrincÃ­pios do Produto

1. **Robustez:** O sistema deve ser confiÃ¡vel, nunca perder dados do usuÃ¡rio e lidar graciosamente com arquivos MyClippings.txt de diferentes tamanhos e formatos
2. **Simplicidade EstÃ©tica:** Design minimalista, clean, com uso estratÃ©gico de white space e tipografia hierÃ¡rquica
3. **Modernidade Visual:** Interfaces inspiradas em produtos SaaS contemporÃ¢neos, com grÃ¡ficos elegantes e microinteraÃ§Ãµes sutis
4. **Fluidez de UX:** TransiÃ§Ãµes suaves, feedback visual imediato, estados de carregamento informativos
5. **Funcionalidade Focada:** Cada feature deve servir diretamente ao objetivo de transformar highlights em conhecimento retido

---

## 2. OBJETIVOS E MÃ‰TRICAS

### 2.1 Objetivos de NegÃ³cio

**Objetivo PrimÃ¡rio:**  
Criar uma ferramenta indispensÃ¡vel para leitores Kindle que valorizam aprendizado contÃ­nuo, estabelecendo o produto como a soluÃ§Ã£o definitiva para gestÃ£o de highlights.

**Objetivos SecundÃ¡rios:**
- AlcanÃ§ar 1.000 usuÃ¡rios ativos nos primeiros 6 meses
- Taxa de retenÃ§Ã£o de 40% apÃ³s 30 dias
- MÃ©dia de 3+ sessÃµes de estudo por usuÃ¡rio por semana

### 2.2 MÃ©tricas de Sucesso

**MÃ©tricas de Engajamento:**
- Daily Active Users (DAU) / Monthly Active Users (MAU)
- FrequÃªncia de importaÃ§Ãµes de MyClippings.txt
- NÃºmero mÃ©dio de sessÃµes de estudo por semana
- Taxa de conclusÃ£o de sessÃµes de estudo
- Tempo mÃ©dio por sessÃ£o de estudo

**MÃ©tricas de Crescimento:**
- Novos registros por semana
- Taxa de conversÃ£o de visitante â†’ registro
- Taxa de retenÃ§Ã£o D1, D7, D30
- Churn rate mensal

**MÃ©tricas de Qualidade:**
- Net Promoter Score (NPS)
- Taxa de highlights editados/personalizados
- NÃºmero de tags criadas por usuÃ¡rio
- UtilizaÃ§Ã£o de features (heatmap, analytics, etc.)

---

## 3. PÃšBLICO-ALVO

### 3.1 Persona PrimÃ¡ria: "O Leitor Produtivo"

**DemogrÃ¡fico:**
- Idade: 25-45 anos
- ProfissÃ£o: Profissionais de conhecimento (desenvolvedores, designers, consultores, pesquisadores, empreendedores)
- EducaÃ§Ã£o: Superior completo ou em andamento
- Tech-savvy: ConfortÃ¡vel com aplicaÃ§Ãµes web e conceitos de produtividade

**Comportamento:**
- LÃª 15-50 livros por ano, majoritariamente nÃ£o-ficÃ§Ã£o
- Faz highlights ativamente durante leitura
- Valoriza aprendizado contÃ­nuo e desenvolvimento pessoal
- JÃ¡ utilizou ou utiliza sistemas de repetiÃ§Ã£o espaÃ§ada (Anki, RemNote)
- Busca ferramentas que otimizem seu workflow de aprendizado

**Objetivos:**
- Reter informaÃ§Ãµes importantes de livros lidos
- Ter acesso rÃ¡pido a insights de mÃºltiplos livros
- Estabelecer hÃ¡bito de revisÃ£o consistente
- Visualizar seu progresso de leitura e aprendizado

**Dores:**
- Esquece 80% do que lÃª em poucas semanas
- Highlights ficam "perdidos" no dispositivo Kindle
- Processo manual de exportar para Anki Ã© tedioso
- Falta visibilidade sobre quais livros jÃ¡ revisou

### 3.2 Persona SecundÃ¡ria: "O AcadÃªmico"

**DemogrÃ¡fico:**
- Idade: 22-35 anos
- ProfissÃ£o: Estudantes de pÃ³s-graduaÃ§Ã£o, pesquisadores, professores
- LÃª artigos acadÃªmicos e livros tÃ©cnicos no Kindle

**Necessidades EspecÃ­ficas:**
- OrganizaÃ§Ã£o por temas de pesquisa (via tags)
- ExportaÃ§Ã£o de highlights para citaÃ§Ãµes
- Busca avanÃ§ada por termos tÃ©cnicos

---

## 4. FUNCIONALIDADES DETALHADAS

### 4.1 AUTENTICAÃ‡ÃƒO E ONBOARDING

#### 4.1.1 Tela de Login/Cadastro

**Requisitos Funcionais:**
- Login via email/senha com validaÃ§Ã£o
- OpÃ§Ã£o de "Login com Google" (via Supabase Auth)
- RecuperaÃ§Ã£o de senha via email
- FormulÃ¡rio de cadastro minimalista (nome, email, senha)
- ValidaÃ§Ãµes em tempo real com feedback visual

**Design:**
- Layout split-screen: lado esquerdo com formulÃ¡rio, lado direito com ilustraÃ§Ã£o/value proposition
- Campos de input com estados hover, focus e error bem definidos
- BotÃ£o CTA destacado com micro-animaÃ§Ã£o no hover
- Link "Esqueci minha senha" discreto mas acessÃ­vel

**Fluxo de Onboarding:**
1. ApÃ³s primeiro login, modal de boas-vindas explicando o conceito
2. Tour guiado (opcional, pulÃ¡vel) destacando:
   - Como importar MyClippings.txt
   - Como funciona o sistema de estudo
   - Como personalizar livros (capa, nome)
3. CTA para fazer primeira importaÃ§Ã£o

#### 4.1.2 Estados de SessÃ£o

- SessÃ£o mantida por 30 dias (remember me)
- Auto-logout apÃ³s 7 dias de inatividade
- SincronizaÃ§Ã£o automÃ¡tica entre abas abertas

---

### 4.2 IMPORTAÃ‡ÃƒO DE HIGHLIGHTS

#### 4.2.1 Interface de Upload

**Requisitos Funcionais:**
- Drag & drop zone para arquivo MyClippings.txt
- BotÃ£o alternativo "Escolher arquivo" para upload tradicional
- ValidaÃ§Ã£o do formato do arquivo (deve ser .txt)
- Preview dos primeiros highlights detectados antes de confirmar importaÃ§Ã£o
- Sistema de detecÃ§Ã£o de novos highlights baseado em timestamp

**LÃ³gica de DetecÃ§Ã£o de Novos Highlights:**
```
SE (data_highlight > Ãºltima_data_importaÃ§Ã£o_usuÃ¡rio):
    ENTÃƒO: highlight Ã© NOVO
SENÃƒO:
    highlight Ã© DUPLICADO (nÃ£o importar)
```

**Feedback Visual:**
- Durante upload: barra de progresso animada
- ApÃ³s parsing: card resumo mostrando:
  - X novos highlights detectados
  - Y livros novos
  - Z livros atualizados
- Lista expansÃ­vel dos novos highlights por livro

**Tratamento de Erros:**
- Arquivo vazio: "O arquivo estÃ¡ vazio. Verifique se Ã© o MyClippings.txt correto."
- Formato invÃ¡lido: "NÃ£o foi possÃ­vel processar o arquivo. Certifique-se de que Ã© o MyClippings.txt do seu Kindle."
- Nenhum highlight novo: "Nenhum highlight novo detectado. Todos os highlights jÃ¡ foram importados anteriormente."

#### 4.2.2 Parser do MyClippings.txt

**Estrutura do Arquivo Kindle:**
```
TÃ­tulo do Livro (Autor)
- Your Highlight on page X | location Y-Z | Added on Data
Texto do highlight

Nota (se existir)
```

**Dados ExtraÃ­dos:**
- `book_title`: String (tÃ­tulo do livro)
- `book_author`: String (autor)
- `highlight_text`: String (pergunta no sistema de estudo)
- `note_text`: String | null (resposta no sistema de estudo)
- `location`: String (pÃ¡gina/localizaÃ§Ã£o)
- `kindle_date`: DateTime (quando foi destacado no Kindle)
- `imported_at`: DateTime (quando foi importado no app)

**Tratamento de Edge Cases:**
- Livros sem autor identificado: autor = "Desconhecido"
- Highlights sem nota: note_text = null
- Caracteres especiais e encoding UTF-8

---

### 4.3 DASHBOARD PRINCIPAL

#### 4.3.1 Layout Geral

**Estrutura Visual:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  SIDEBAR (250px)     â”‚     MAIN CONTENT AREA           â”‚
â”‚                      â”‚                                   â”‚
â”‚  Logo                â”‚  Header: [TÃ­tulo da PÃ¡gina]      â”‚
â”‚  [Avatar]            â”‚          [Actions]                â”‚
â”‚                      â”‚                                   â”‚
â”‚  ğŸ“Š Dashboard        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  ğŸ“š Biblioteca       â”‚  â”‚                             â”‚ â”‚
â”‚  ğŸ¯ Estudo           â”‚  â”‚     ConteÃºdo DinÃ¢mico      â”‚ â”‚
â”‚  ğŸ“ˆ EstatÃ­sticas     â”‚  â”‚                             â”‚ â”‚
â”‚  ğŸ·ï¸  Tags            â”‚  â”‚                             â”‚ â”‚
â”‚  âš™ï¸  ConfiguraÃ§Ãµes   â”‚  â”‚                             â”‚ â”‚
â”‚                      â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**InspiraÃ§Ã£o de Design (baseado na imagem fornecida):**
- Sidebar escura com Ã­cones e labels clean
- Ãrea principal com background claro (#FAFBFC)
- Cards com sombras sutis e bordas suaves
- Uso estratÃ©gico de azul primÃ¡rio (#4169E1) para CTAs
- GrÃ¡ficos com cores suaves e gradientes

#### 4.3.2 PÃ¡gina Dashboard (Home)

**Widgets Principais:**

**1. Card "Resumo Geral"** (topo)
- Total de livros importados
- Total de highlights
- Highlights em estudo (% do total)
- Streak de dias estudando consecutivamente

**2. GrÃ¡fico "Timeline de Highlights"** (estilo Ã¡rea chart)
- Eixo X: Ãºltimos 6 meses
- Eixo Y: nÃºmero de highlights importados
- VisualizaÃ§Ã£o suave e colorida (gradiente azul)
- Tooltip ao hover mostrando nÃºmero exato e data

**3. GrÃ¡fico "Heatmap de Leitura"**
- Inspirado no GitHub contributions
- Grid de dias do ano (Ãºltimos 365 dias)
- Intensidade de cor baseada em highlights do dia
- Tooltip: "X highlights em DD/MM/YYYY"

**4. Card "Atividade de Estudo"** (grÃ¡fico de linha)
- Cards revisados por semana (Ãºltimas 8 semanas)
- Duas linhas: "Cards Novos" vs "RevisÃµes"
- Cores distintas para cada mÃ©trica

**5. Widget "Livros Recentes"**
- Grid horizontal com Ãºltimos 5 livros importados
- Cada card mostra: capa (thumb), tÃ­tulo, autor, nÂº highlights
- Click leva para pÃ¡gina do livro especÃ­fico

**AÃ§Ãµes RÃ¡pidas (Header):**
- BotÃ£o "Importar Highlights" (CTA primÃ¡rio)
- BotÃ£o "Iniciar Estudo" (CTA secundÃ¡rio)
- Data/hora atual
- Avatar do usuÃ¡rio (dropdown com logout)

---

### 4.4 BIBLIOTECA DE LIVROS

#### 4.4.1 VisualizaÃ§Ã£o e NavegaÃ§Ã£o

**Modos de VisualizaÃ§Ã£o:**
- **Grid View** (padrÃ£o): Cards 3-4 colunas com capas grandes
- **List View**: Lista compacta com capa pequena, tÃ­tulo, autor, stats inline

**Card de Livro (Grid):**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     â”‚
â”‚   [Capa do Livro]   â”‚
â”‚      300x400        â”‚
â”‚                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ TÃ­tulo do Livro     â”‚
â”‚ por Autor           â”‚
â”‚                     â”‚
â”‚ ğŸ”– 45 highlights    â”‚
â”‚ ğŸ“š 12 em estudo     â”‚
â”‚ âœ… 8 dominados      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Funcionalidades:**
- Hover: elevaÃ§Ã£o do card + opacidade reduzida
- Click no card: abre pÃ¡gina detalhada do livro
- Menu "..." (3 dots) no canto superior direito:
  - Editar informaÃ§Ãµes
  - Ver todos os highlights
  - Iniciar sessÃ£o de estudo
  - Excluir livro (com confirmaÃ§Ã£o)

#### 4.4.2 Filtros e Busca

**Barra de Busca:**
- Input com Ã­cone de lupa
- Busca em tempo real (debounced 300ms)
- Busca por: tÃ­tulo, autor, highlight text, tags

**Filtros Laterais:**
- **Por Status de Estudo:**
  - Todos
  - NÃ£o iniciados
  - Em andamento
  - Dominados (100% revisado)
  
- **Por PerÃ­odo de ImportaÃ§Ã£o:**
  - Ãšltima semana
  - Ãšltimo mÃªs
  - Ãšltimo ano
  - Personalizado (date picker)

- **Por Tags:**
  - Lista de checkboxes das tags criadas
  - Contador de livros por tag

- **OrdenaÃ§Ã£o:**
  - Mais recentes
  - Mais antigos
  - TÃ­tulo (A-Z)
  - Maior nÂº de highlights

#### 4.4.3 PÃ¡gina Detalhada do Livro

**Header do Livro:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Capa]  â”‚  TÃ­tulo do Livro                          â”‚
â”‚  200x300 â”‚  Autor                                     â”‚
â”‚          â”‚  ğŸ“… Importado em: DD/MM/YYYY              â”‚
â”‚          â”‚  ğŸ”– X highlights | ğŸ“ Y com notas         â”‚
â”‚          â”‚                                            â”‚
â”‚          â”‚  [Iniciar Estudo] [Editar Livro]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Lista de Highlights:**
- VisualizaÃ§Ã£o tipo "caderno virtual"
- Cada highlight em um card expansÃ­vel:
  - Highlight text (destaque visual)
  - Nota pessoal (se existir) em estilo italic/diferenciado
  - Data do highlight
  - LocalizaÃ§Ã£o no livro
  - Tags associadas
  - BotÃµes: Editar | Adicionar/Remover do estudo

**Modo de EdiÃ§Ã£o RÃ¡pida:**
- Click duplo em qualquer highlight para editar inline
- ESC para cancelar, Enter para salvar
- Feedback visual de salvamento automÃ¡tico

---

### 4.5 SISTEMA DE TAGS

#### 4.5.1 CriaÃ§Ã£o e GestÃ£o de Tags

**Interface de Tags:**
- PÃ¡gina dedicada listando todas as tags criadas
- Cada tag mostra:
  - Nome da tag
  - Cor (selecionÃ¡vel de paleta prÃ©-definida)
  - NÃºmero de highlights associados
  - NÃºmero de livros que contÃ©m a tag

**CriaÃ§Ã£o de Nova Tag:**
- Modal ou inline form
- Input para nome (mÃ¡x 30 caracteres)
- Color picker com paleta de 12 cores prÃ©-definidas
- ValidaÃ§Ã£o: nÃ£o permitir tags duplicadas (case insensitive)

**AplicaÃ§Ã£o de Tags:**
- Na pÃ¡gina do livro: selecionar mÃºltiplos highlights e aplicar tag em lote
- Na ediÃ§Ã£o individual: campo com autocomplete das tags existentes
- Criar nova tag on-the-fly durante ediÃ§Ã£o

#### 4.5.2 Filtros por Tags

- Biblioteca: filtrar livros que contÃ©m X tag
- Busca global: encontrar todos os highlights com tag Y
- Estudo: opÃ§Ã£o de estudar apenas highlights de uma tag especÃ­fica

---

### 4.6 SISTEMA DE ESTUDO INTEGRADO

#### 4.6.1 Algoritmo de RepetiÃ§Ã£o EspaÃ§ada (SM-2)

**ImplementaÃ§Ã£o do SM-2:**

O algoritmo SM-2 (SuperMemo 2) calcula o prÃ³ximo intervalo de revisÃ£o baseado na facilidade (ease factor) e no nÃºmero de repetiÃ§Ãµes.

**ParÃ¢metros Iniciais:**
- `ease_factor`: 2.5 (inicial)
- `interval`: 0 (dias atÃ© prÃ³xima revisÃ£o)
- `repetitions`: 0 (nÃºmero de vezes que o card foi respondido corretamente)

**LÃ³gica de AtualizaÃ§Ã£o:**

Quando usuÃ¡rio clica **"PrÃ³ximo"** (resposta correta):
```
SE repetitions == 0:
    interval = 1 dia
SE repetitions == 1:
    interval = 6 dias
SE repetitions >= 2:
    interval = interval_anterior * ease_factor

repetitions += 1
ease_factor = ease_factor (sem alteraÃ§Ã£o neste caso simplificado)
```

Quando usuÃ¡rio clica **"Repetir"** (resposta incorreta):
```
repetitions = 0
interval = 0
ease_factor = ease_factor (mantido)
next_review_date = hoje (card volta para fila de hoje)
```

**Armazenamento no Banco (tabela `study_cards`):**
```sql
- id
- highlight_id (FK)
- ease_factor (float)
- interval (int - dias)
- repetitions (int)
- next_review_date (date)
- last_reviewed_at (timestamp)
- created_at
```

#### 4.6.2 Interface de Estudo

**SeleÃ§Ã£o de Deck/Livro:**
- Modal ou pÃ¡gina de seleÃ§Ã£o antes de iniciar estudo
- OpÃ§Ãµes:
  - Estudar todos os cards pendentes (de todos os livros)
  - Estudar apenas livro X
  - Estudar apenas tag Y
  - Estudo rÃ¡pido (10 cards aleatÃ³rios)

**Layout da SessÃ£o de Estudo:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  [Capa do Livro] TÃ­tulo do Livro                 â”‚
â”‚                                                   â”‚
â”‚  Progresso da sessÃ£o: [â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘] 8/10          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                   â”‚
â”‚                                                   â”‚
â”‚              [Texto do Highlight]                â”‚
â”‚                  (PERGUNTA)                       â”‚
â”‚                                                   â”‚
â”‚                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

                  [Mostrar Resposta]


            (apÃ³s revelar resposta)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                                                   â”‚
â”‚              [Texto da Nota/Resposta]            â”‚
â”‚                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

          [Repetir]            [PrÃ³ximo]
```

**Comportamento:**
1. Card aparece mostrando apenas o Highlight (pergunta)
2. UsuÃ¡rio tenta lembrar a resposta mentalmente
3. Click em "Mostrar Resposta" revela a nota
4. UsuÃ¡rio escolhe:
   - **"Repetir"**: nÃ£o lembrou ou lembrou incorretamente â†’ card reseta
   - **"PrÃ³ximo"**: lembrou corretamente â†’ card avanÃ§a no algoritmo

**Detalhes Visuais:**
- Capa do livro sempre visÃ­vel no topo (thumb 80x120)
- TransiÃ§Ã£o suave entre cards (fade in/out)
- Barra de progresso animada
- Feedback visual ao clicar botÃµes (ripple effect)
- Possibilidade de pular card (botÃ£o discreto no topo)
- BotÃ£o "Sair" com confirmaÃ§Ã£o se sessÃ£o nÃ£o finalizada

#### 4.6.3 LÃ³gica de Fila de Estudo

**CritÃ©rios para Card Aparecer na Fila:**
- `next_review_date <= hoje`

**Ordem de ApresentaÃ§Ã£o:**
1. Cards com `repetitions = 0` (nunca revisados) - ordem aleatÃ³ria
2. Cards atrasados (next_review_date < hoje) - ordem de atraso (mais antigo primeiro)
3. Cards do dia (next_review_date = hoje) - ordem aleatÃ³ria

**Tipos de Cards:**
- **Novos**: nunca foram estudados (badge "Novo")
- **RevisÃ£o**: jÃ¡ foram estudados e estÃ£o no intervalo (badge "RevisÃ£o")
- **Atrasados**: deveriam ter sido revisados dias atrÃ¡s (badge vermelho "Atrasado")

#### 4.6.4 PÃ³s-SessÃ£o

**Tela de ConclusÃ£o:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ğŸ‰ SessÃ£o ConcluÃ­da! ğŸ‰             â”‚
â”‚                                               â”‚
â”‚  VocÃª revisou 10 cards em 8 minutos         â”‚
â”‚                                               â”‚
â”‚  âœ… Corretos: 7                              â”‚
â”‚  ğŸ” Repetidos: 3                             â”‚
â”‚                                               â”‚
â”‚  PrÃ³xima revisÃ£o: X cards amanhÃ£            â”‚
â”‚                                               â”‚
â”‚  [Ver EstatÃ­sticas] [Estudar Mais]  [Voltar]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**GamificaÃ§Ã£o Sutil:**
- Mensagens motivacionais variadas
- Confetti animation ao completar sessÃ£o longa (20+ cards)
- CelebraÃ§Ã£o de streaks (3, 7, 30, 100 dias)

---

### 4.7 ESTATÃSTICAS E ANALYTICS

#### 4.7.1 PÃ¡gina de EstatÃ­sticas

**Layout de Dashboard** (inspirado na imagem Basepoint):
- Grid de 2x2 ou 3x2 com grÃ¡ficos interativos
- Design limpo com cards brancos e sombras sutis
- Uso de cores consistente com brand (azul primÃ¡rio)

**GrÃ¡fico 1: Timeline de Highlights** (Ã¡rea chart)
- Eixo X: Ãºltimos 12 meses
- Eixo Y: nÃºmero de highlights importados
- Gradiente azul suave
- Tooltip ao hover: "X highlights em MÃªs/Ano"

**GrÃ¡fico 2: Progresso de Estudo** (linha chart dupla)
- Linhas: "Cards Revisados" e "Taxa de Acerto"
- Eixo X: Ãºltimas 12 semanas
- Eixo Y esquerdo: nÃºmero de cards
- Eixo Y direito: percentual
- Cores: azul para cards, verde para taxa de acerto

**GrÃ¡fico 3: DistribuiÃ§Ã£o por Livro** (bar chart horizontal)
- Top 10 livros com mais highlights
- Barras coloridas em gradiente
- Ordenado por quantidade (descendente)

**GrÃ¡fico 4: Heatmap de ConsistÃªncia**
- Grid de calendÃ¡rio (365 dias)
- Intensidade de cor baseada em cards revisados
- Tooltip: "X cards revisados em DD/MM"

**Cards de MÃ©tricas RÃ¡pidas** (topo da pÃ¡gina):
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Total de    â”‚ â”‚  Highlights  â”‚ â”‚  Em Estudo   â”‚ â”‚  Streak      â”‚
â”‚  Livros      â”‚ â”‚              â”‚ â”‚              â”‚ â”‚              â”‚
â”‚     42       â”‚ â”‚    1,284     â”‚ â”‚     847      â”‚ â”‚   12 dias    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### 4.7.2 Insights AvanÃ§ados

**Nuvem de Palavras:**
- Gerada a partir de todos os highlights
- Palavras mais frequentes em tamanho maior
- Filtro: gerar nuvem de livro especÃ­fico ou tag
- OpÃ§Ã£o de excluir stopwords (artigos, preposiÃ§Ãµes)

**Temas Recorrentes:**
- AnÃ¡lise simples de frequÃªncia de termos
- Lista dos 20 termos/conceitos mais mencionados nos highlights
- Formato: tabela ordenÃ¡vel ou lista visual

**Autores Favoritos:**
- Ranking de autores por nÃºmero de highlights
- Visual: lista com avatars/iniciais + barra de progresso

**Metas e Conquistas:**
- Definir meta anual de livros/highlights
- VisualizaÃ§Ã£o de progresso (circular progress bar)
- Badges desbloqueados (100 highlights, 30 dias de streak, etc.)

---

### 4.8 CONFIGURAÃ‡Ã•ES

#### 4.8.1 Perfil do UsuÃ¡rio

- Nome completo (editÃ¡vel)
- Email (nÃ£o editÃ¡vel, requer verificaÃ§Ã£o para mudar)
- Avatar (upload de imagem ou escolha de avatar padrÃ£o)
- Fuso horÃ¡rio
- Idioma (futuro: suporte a PT-BR e EN)

#### 4.8.2 ConfiguraÃ§Ãµes do Sistema de Estudo

**PersonalizaÃ§Ã£o do Algoritmo:**
- NÃºmero de cards novos por dia (padrÃ£o: 20)
- NÃºmero mÃ¡ximo de revisÃµes por dia (padrÃ£o: ilimitado)
- Ease factor inicial (padrÃ£o: 2.5, range: 1.3 - 3.0)
- Intervalo inicial para cards novos (padrÃ£o: 1, 6 dias)

**PreferÃªncias de Estudo:**
- Embaralhar ordem dos cards (sim/nÃ£o)
- Mostrar progresso durante sessÃ£o (sim/nÃ£o)
- Sons de feedback (sim/nÃ£o)
- Modo escuro durante estudo (sim/nÃ£o)

#### 4.8.3 Gerenciamento de Livros

**Lista de Todos os Livros:**
- Tabela editÃ¡vel com colunas:
  - Capa (thumb)
  - TÃ­tulo (editÃ¡vel inline)
  - Autor (editÃ¡vel inline)
  - NÂº Highlights
  - AÃ§Ã£o: [Editar] [Excluir]

**Modal de EdiÃ§Ã£o de Livro:**
- Campo TÃ­tulo (text input)
- Campo Autor (text input)
- Upload de Capa:
  - Drag & drop
  - Crop/resize automÃ¡tico para 300x400
  - Preview em tempo real
  - Formatos aceitos: JPG, PNG, WEBP
  - Tamanho mÃ¡x: 2MB
- BotÃ£o "Buscar Capa Online" (futuro: integraÃ§Ã£o com APIs de livros)

#### 4.8.4 Gerenciamento de Dados

- **Exportar Dados:**
  - Exportar todos os highlights em JSON
  - Exportar biblioteca completa em CSV
  - Exportar estatÃ­sticas em PDF (futuro)

- **Importar Dados:**
  - Importar de backup JSON (futuro)

- **Excluir Conta:**
  - BotÃ£o vermelho "Excluir Conta Permanentemente"
  - ConfirmaÃ§Ã£o com digitaÃ§Ã£o de "EXCLUIR"
  - Aviso de que dados nÃ£o podem ser recuperados
- avatar_url (text, nullable)
- timezone (text)
- created_at (timestamp)
- updated_at (timestamp)
```

**Tabela: `books`**
```sql
- id (uuid, PK)
- user_id (uuid, FK â†’ users.id)
- title (text)
- author (text)
- cover_url (text, nullable)
- created_at (timestamp)
- updated_at (timestamp)

UNIQUE (user_id, title, author) -- evita duplicaÃ§Ã£o
```

**Tabela: `highlights`**
```sql
- id (uuid, PK)
- book_id (uuid, FK â†’ books.id ON DELETE CASCADE)
- user_id (uuid, FK â†’ users.id)
- highlight_text (text) -- a "pergunta"
- note_text (text, nullable) -- a "resposta"
- location (text, nullable) -- pÃ¡gina/localizaÃ§Ã£o
- kindle_date (timestamp) -- quando destacou no Kindle
- imported_at (timestamp) -- quando importou no app
- created_at (timestamp)
- updated_at (timestamp)

INDEX (user_id, imported_at)
INDEX (book_id)
```

**Tabela: `tags`**
```sql
- id (uuid, PK)
- user_id (uuid, FK â†’ users.id)
- name (text)
- color (text) -- hex color
- created_at (timestamp)

UNIQUE (user_id, name)
```

**Tabela: `highlight_tags`** (many-to-many)
```sql
- highlight_id (uuid, FK â†’ highlights.id ON DELETE CASCADE)
- tag_id (uuid, FK â†’ tags.id ON DELETE CASCADE)

PRIMARY KEY (highlight_id, tag_id)
```

**Tabela: `study_cards`**
```sql
- id (uuid, PK)
- highlight_id (uuid, FK â†’ highlights.id ON DELETE CASCADE, UNIQUE)
- user_id (uuid, FK â†’ users.id)
- ease_factor (float, default 2.5)
- interval (int, default 0) -- dias
- repetitions (int, default 0)
- next_review_date (date)
- last_reviewed_at (timestamp, nullable)
- created_at (timestamp)

INDEX (user_id, next_review_date)
```

**Tabela: `study_sessions`** (para analytics)
```sql
- id (uuid, PK)
- user_id (uuid, FK â†’ users.id)
- started_at (timestamp)
- ended_at (timestamp, nullable)
- cards_reviewed (int)
- cards_correct (int)
- cards_repeated (int)
```

**Tabela: `user_settings`**
```sql
- user_id (uuid, PK, FK â†’ users.id)
- new_cards_per_day (int, default 20)
- max_reviews_per_day (int, nullable)
- initial_ease_factor (float, default 2.5)
- shuffle_cards (boolean, default true)
- show_progress (boolean, default true)
- sound_effects (boolean, default false)
- dark_mode_study (boolean, default false)
- updated_at (timestamp)
```

### 5.3 Row Level Security (RLS) Policies

Todas as tabelas devem ter RLS habilitado para garantir que usuÃ¡rios sÃ³ acessem seus prÃ³prios dados:

```sql
-- Exemplo para tabela highlights
CREATE POLICY "Users can view own highlights"
ON highlights FOR SELECT
USING (auth.uid() = user_id);

CREATE POLICY "Users can insert own highlights"
ON highlights FOR INSERT
WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can update own highlights"
ON highlights FOR UPDATE
USING (auth.uid() = user_id);

CREATE POLICY "Users can delete own highlights"
ON highlights FOR DELETE
USING (auth.uid() = user_id);
```

### 5.4 Estrutura de Pastas (Next.js App Router)

```
/kindle-highlights-manager
â”œâ”€â”€ /app
â”‚   â”œâ”€â”€ /auth
â”‚   â”‚   â”œâ”€â”€ /login
â”‚   â”‚   â””â”€â”€ /signup
â”‚   â”œâ”€â”€ /dashboard
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ /biblioteca
â”‚   â”‚   â”œâ”€â”€ page.tsx
â”‚   â”‚   â””â”€â”€ /[bookId]
â”‚   â”‚       â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ /estudo
â”‚   â”‚   â”œâ”€â”€ page.tsx (seleÃ§Ã£o de deck)
â”‚   â”‚   â””â”€â”€ /sessao
â”‚   â”‚       â””â”€â”€ page.tsx (interface de estudo)
â”‚   â”œâ”€â”€ /estatisticas
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ /tags
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â”œâ”€â”€ /configuracoes
â”‚   â”‚   â””â”€â”€ page.tsx
â”‚   â””â”€â”€ layout.tsx (layout principal com sidebar)
â”œâ”€â”€ /components
â”‚   â”œâ”€â”€ /ui (shadcn components)
â”‚   â”œâ”€â”€ /charts
â”‚   â”‚   â”œâ”€â”€ TimelineChart.tsx
â”‚   â”‚   â”œâ”€â”€ HeatmapChart.tsx
â”‚   â”‚   â””â”€â”€ BarChart.tsx
â”‚   â”œâ”€â”€ /study
â”‚   â”‚   â”œâ”€â”€ StudyCard.tsx
â”‚   â”‚   â””â”€â”€ ProgressBar.tsx
â”‚   â”œâ”€â”€ /library
â”‚   â”‚   â”œâ”€â”€ BookCard.tsx
â”‚   â”‚   â”œâ”€â”€ BookGrid.tsx
â”‚   â”‚   â””â”€â”€ HighlightList.tsx
â”‚   â”œâ”€â”€ Sidebar.tsx
â”‚   â”œâ”€â”€ UploadZone.tsx
â”‚   â””â”€â”€ TagBadge.tsx
â”œâ”€â”€ /lib
â”‚   â”œâ”€â”€ /supabase
â”‚   â”‚   â”œâ”€â”€ client.ts
â”‚   â”‚   â””â”€â”€ server.ts
â”‚   â”œâ”€â”€ /parsers
â”‚   â”‚   â””â”€â”€ myClippingsParser.ts
â”‚   â”œâ”€â”€ /study
â”‚   â”‚   â””â”€â”€ sm2Algorithm.ts
â”‚   â””â”€â”€ /utils
â”‚       â”œâ”€â”€ dateHelpers.ts
â”‚       â””â”€â”€ textHelpers.ts
â”œâ”€â”€ /public
â”‚   â”œâ”€â”€ /images
â”‚   â””â”€â”€ /icons
â””â”€â”€ /styles
    â””â”€â”€ globals.css
```

### 5.5 Fluxos de Dados CrÃ­ticos

**Fluxo de ImportaÃ§Ã£o:**
```
1. User faz upload do MyClippings.txt
2. Frontend lÃª o arquivo com FileReader API
3. Parser processa o texto e gera JSON estruturado
4. Frontend consulta Supabase: Ãºltima data de importaÃ§Ã£o do usuÃ¡rio
5. Frontend filtra apenas highlights com kindle_date > Ãºltima importaÃ§Ã£o
6. Frontend envia novos highlights para Supabase (batch insert)
7. Backend cria registros em `books` (se nÃ£o existir) e `highlights`
8. Frontend mostra resumo de importaÃ§Ã£o
9. Frontend redireciona para pÃ¡gina da Biblioteca
```

**Fluxo de Estudo:**
```
1. User seleciona deck/livro para estudar
2. Frontend query Supabase:
   SELECT * FROM study_cards 
   WHERE user_id = X AND next_review_date <= TODAY()
   ORDER BY [lÃ³gica de ordenaÃ§Ã£o]
3. Frontend carrega primeiro card e exibe
4. User revela resposta e clica "PrÃ³ximo" ou "Repetir"
5. Frontend calcula novo ease_factor, interval, next_review_date (SM-2)
6. Frontend atualiza registro em `study_cards`
7. Frontend registra estatÃ­stica em `study_sessions`
8. Frontend carrega prÃ³ximo card (repete 3-7)
9. Ao finalizar: exibe tela de conclusÃ£o com estatÃ­sticas
```

---

## 6. DESIGN SYSTEM

### 6.1 Paleta de Cores

**Cores PrimÃ¡rias:**
- **Azul PrimÃ¡rio:** `#4169E1` (Royal Blue) - CTAs, links, elementos interativos
- **Azul Escuro:** `#2C3E50` - Sidebar, textos importantes
- **Azul Claro:** `#E8F4FF` - Backgrounds de destaque

**Cores SecundÃ¡rias:**
- **Verde Sucesso:** `#10B981` - Feedbacks positivos, badges de "dominado"
- **Laranja Alerta:** `#F59E0B` - Avisos, cards atrasados
- **Vermelho Erro:** `#EF4444` - Erros, aÃ§Ãµes destrutivas
- **Cinza Neutro:** `#6B7280` - Textos secundÃ¡rios, bordas

**Backgrounds:**
- **Fundo Principal:** `#FAFBFC`
- **Card Background:** `#FFFFFF`
- **Sidebar:** `#1F2937` (dark mode)

### 6.2 Tipografia

**Font Stack:**
- **Primary:** `'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif`
- **Monospace:** `'Fira Code', 'Courier New', monospace` (para highlights de cÃ³digo)

**Escala TipogrÃ¡fica:**
- **Display:** 48px / 3rem (tÃ­tulos de pÃ¡gina principais)
- **H1:** 36px / 2.25rem
- **H2:** 30px / 1.875rem
- **H3:** 24px / 1.5rem
- **Body Large:** 18px / 1.125rem
- **Body:** 16px / 1rem (padrÃ£o)
- **Body Small:** 14px / 0.875rem
- **Caption:** 12px / 0.75rem

**Line Height:**
- TÃ­tulos: 1.2
- Body text: 1.6
- Highlights: 1.8 (melhor legibilidade)

### 6.3 EspaÃ§amento

**Sistema de 8px:**
- Base unit: 8px
- Escala: 4px, 8px, 16px, 24px, 32px, 48px, 64px, 96px

**AplicaÃ§Ã£o:**
- Padding interno de cards: 24px
- Gap entre elementos: 16px
- Margin entre sections: 48px
- Sidebar padding: 16px

### 6.4 Componentes Base

**BotÃµes:**
- **Primary Button:**
  - Background: #4169E1
  - Hover: #3457C0
  - Height: 40px
  - Border-radius: 8px
  - Font-weight: 600
  - Padding: 12px 24px

- **Secondary Button:**
  - Background: transparent
  - Border: 2px solid #E5E7EB
  - Hover: background #F9FAFB

- **Ghost Button:**
  - Background: transparent
  - Hover: background #F3F4F6

**Cards:**
- Background: #FFFFFF
- Border-radius: 12px
- Box-shadow: `0 1px 3px rgba(0,0,0,0.1)`
- Hover: `0 4px 12px rgba(0,0,0,0.15)` (elevaÃ§Ã£o)
- Padding: 24px

**Inputs:**
- Height: 40px
- Border: 1px solid #D1D5DB
- Border-radius: 8px
- Focus: border #4169E1, box-shadow 0 0 0 3px rgba(65,105,225,0.1)
- Padding: 0 12px

**Tags/Badges:**
- Border-radius: 16px (pill shape)
- Padding: 4px 12px
- Font-size: 12px
- Font-weight: 600

### 6.5 AnimaÃ§Ãµes e TransiÃ§Ãµes

**PrincÃ­pios:**
- Sutileza: animaÃ§Ãµes devem ser perceptÃ­veis mas nÃ£o distrativas
- DuraÃ§Ã£o: 150-300ms para a maioria das interaÃ§Ãµes
- Easing: `cubic-bezier(0.4, 0.0, 0.2, 1)` (ease-out)

**AplicaÃ§Ãµes:**
- Hover states: `transition: all 150ms ease-out`
- Modal open/close: fade + scale
- Card flip (estudo): rotate3d
- Page transitions: fade
- Skeleton loading: shimmer effect

### 6.6 Iconografia

**Biblioteca de Ãcones:** Lucide Icons (consistÃªncia e leveza)

**Ãcones Principais:**
- Dashboard: ğŸ“Š BarChart3
- Biblioteca: ğŸ“š Library
- Estudo: ğŸ¯ Target
- EstatÃ­sticas: ğŸ“ˆ TrendingUp
- Tags: ğŸ·ï¸ Tag
- ConfiguraÃ§Ãµes: âš™ï¸ Settings
- Upload: â¬†ï¸ Upload
- Editar: âœï¸ Edit
- Excluir: ğŸ—‘ï¸ Trash2
- Busca: ğŸ” Search

---

## 7. EXPERIÃŠNCIA DO USUÃRIO

### 7.1 Estados de Carregamento

**Skeleton Screens:**
- Utilizar em vez de spinners para melhor percepÃ§Ã£o de performance
- Aplicar em: lista de livros, lista de highlights, grÃ¡ficos
- AnimaÃ§Ã£o shimmer sutil

**Progress Indicators:**
- Upload de arquivo: barra de progresso linear
- Processamento: spinner + texto informativo ("Analisando highlights...")
- OperaÃ§Ãµes longas (>3s): indicador de porcentagem

### 7.2 Feedbacks Visuais

**Toasts (NotificaÃ§Ãµes):**
- PosiÃ§Ã£o: top-right
- DuraÃ§Ã£o: 3-5 segundos
- Tipos:
  - Sucesso: Ã­cone âœ“, fundo verde claro
  - Erro: Ã­cone âœ•, fundo vermelho claro
  - Aviso: Ã­cone âš , fundo laranja claro
  - Info: Ã­cone â„¹, fundo azul claro

**ConfirmaÃ§Ãµes:**
- AÃ§Ãµes destrutivas (excluir livro, conta): modal de confirmaÃ§Ã£o
- Texto claro: "Tem certeza que deseja excluir [Item]? Esta aÃ§Ã£o nÃ£o pode ser desfeita."
- BotÃµes: "Cancelar" (secundÃ¡rio) + "Excluir" (vermelho, destaque)

### 7.3 Estados Vazios (Empty States)

**Biblioteca Vazia:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ğŸ“š                          â”‚
â”‚                                     â”‚
â”‚   Nenhum livro importado ainda    â”‚
â”‚                                     â”‚
â”‚   Importe seu primeiro arquivo     â”‚
â”‚   MyClippings.txt para comeÃ§ar     â”‚
â”‚                                     â”‚
â”‚      [Importar Highlights]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**Nenhum Card para Estudar:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        ğŸ‰                          â”‚
â”‚                                     â”‚
â”‚   VocÃª estÃ¡ em dia!                â”‚
â”‚                                     â”‚
â”‚   NÃ£o hÃ¡ cards para revisar hoje.  â”‚
â”‚   PrÃ³xima revisÃ£o: amanhÃ£          â”‚
â”‚                                     â”‚
â”‚      [Voltar ao Dashboard]         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 7.4 Responsividade

**Breakpoints:**
- Mobile: < 640px
- Tablet: 640px - 1024px
- Desktop: > 1024px

**AdaptaÃ§Ãµes Mobile:**
- Sidebar se transforma em bottom navigation bar
- Grid de livros: 1 coluna
- GrÃ¡ficos: stack vertical
- Interface de estudo: full-screen
- Touch-friendly: botÃµes maiores (min 44x44px)

### 7.5 Acessibilidade

**Requisitos MÃ­nimos:**
- Contraste de cores: WCAG AA (4.5:1 para texto normal)
- NavegaÃ§Ã£o por teclado: Tab, Enter, Esc funcionais
- ARIA labels em botÃµes/Ã­cones
- Focus states visÃ­veis
- Alt text em todas as imagens
- SemÃ¢ntica HTML correta (h1, h2, nav, main, etc.)

---

## 8. ROADMAP E PRIORIZAÃ‡ÃƒO

### 8.1 MVP (VersÃ£o 1.0) - 8 semanas

**Semanas 1-2: FundaÃ§Ã£o**
- Setup do projeto (Next.js + Supabase)
- AutenticaÃ§Ã£o (login/signup)
- Design system base (Tailwind config, componentes UI)

**Semanas 3-4: Core Features**
- Upload e parser de MyClippings.txt
- Modelo de dados completo
- Biblioteca de livros (grid view, busca bÃ¡sica)
- PÃ¡gina detalhada do livro

**Semanas 5-6: Sistema de Estudo**
- ImplementaÃ§Ã£o do algoritmo SM-2
- Interface de estudo (pergunta/resposta)
- CriaÃ§Ã£o automÃ¡tica de study_cards
- EstatÃ­sticas bÃ¡sicas

**Semanas 7-8: Polish & Launch**
- Dashboard com grÃ¡ficos principais
- ConfiguraÃ§Ãµes (editar livro, upload de capa)
- Testes de usabilidade
- Deploy para produÃ§Ã£o

### 8.2 PÃ³s-MVP (VersÃ£o 1.1-1.3)

**v1.1 - OrganizaÃ§Ã£o AvanÃ§ada (2 semanas)**
- Sistema de tags completo
- Filtros avanÃ§ados
- EdiÃ§Ã£o em massa de highlights

**v1.2 - Analytics Completo (2 semanas)**
- Heatmap de leitura
- Nuvem de palavras
- Insights de temas recorrentes
- Metas e gamificaÃ§Ã£o

**v1.3 - Refinamentos UX (2 semanas)**
- Modo escuro global
- Atalhos de teclado
- Tour interativo para novos usuÃ¡rios
- Melhorias de performance

### 8.3 Futuro (VersÃ£o 2.0+)

- Aplicativo mobile (React Native ou PWA)
- SincronizaÃ§Ã£o automÃ¡tica via Dropbox/Drive
- ColaboraÃ§Ã£o: compartilhar highlights com amigos
- IntegraÃ§Ã£o com APIs de livros (capas automÃ¡ticas, metadados)
- ExportaÃ§Ã£o para Notion, Obsidian, Readwise
- IA: sugestÃµes de conexÃµes entre highlights
- Estudo com voz (text-to-speech para highlights)

---

## 9. MÃ‰TRICAS DE SUCESSO E KPIs

### 9.1 MÃ©tricas de Produto (Primeiros 6 Meses)

**AquisiÃ§Ã£o:**
- 1.000 usuÃ¡rios registrados
- 200 DAU (Daily Active Users)
- Taxa de conversÃ£o visita â†’ registro: 15%

**Engajamento:**
- 3+ sessÃµes de estudo por usuÃ¡rio/semana
- 60% dos usuÃ¡rios fazem 2+ importaÃ§Ãµes
- Tempo mÃ©dio de sessÃ£o de estudo: 8-12 minutos

**RetenÃ§Ã£o:**
- D1 (Day 1): 60%
- D7 (Day 7): 40%
- D30 (Day 30): 25%

**Qualidade:**
- NPS (Net Promoter Score): >40
- <5% de churn mensal (apÃ³s 3Âº mÃªs)
- <1% de erro rate nas importaÃ§Ãµes

### 9.2 MÃ©tricas TÃ©cnicas

**Performance:**
- Lighthouse Score: >90 (Performance, Accessibility, Best Practices, SEO)
- Time to Interactive (TTI): <3s
- First Contentful Paint (FCP): <1.5s
- Core Web Vitals: todos "Good"

**Confiabilidade:**
- Uptime: >99.5%
- Error rate: <0.1%
- P95 response time: <500ms

---

## 10. CONSIDERAÃ‡Ã•ES DE SEGURANÃ‡A E PRIVACIDADE

### 10.1 SeguranÃ§a

**AutenticaÃ§Ã£o:**
- Senhas hasheadas (bcrypt via Supabase)
- JWT tokens para sessÃµes
- Rate limiting em endpoints de login (10 tentativas/hora)

**AutorizaÃ§Ã£o:**
- Row Level Security (RLS) em todas as tabelas
- Nenhum dado compartilhado entre usuÃ¡rios sem consentimento explÃ­cito

**Upload de Arquivos:**
- ValidaÃ§Ã£o de tipo MIME (apenas .txt para MyClippings)
- ValidaÃ§Ã£o de tamanho (max 10MB)
- SanitizaÃ§Ã£o de input para prevenir XSS

**Capas de Livros:**
- Storage isolado por usuÃ¡rio (user_id no path)
- ValidaÃ§Ã£o de formato (PNG, JPG, WEBP apenas)
- Resize automÃ¡tico para prevenir uploads gigantes
- URLs assinadas para acesso

### 10.2 Privacidade

**LGPD/GDPR Compliance:**
- Termos de uso e polÃ­tica de privacidade claros
- Opt-in explÃ­cito para coleta de analytics
- Direito de exportaÃ§Ã£o de dados (formato JSON)
- Direito de exclusÃ£o completa (hard delete)

**Dados Coletados:**
- Essenciais: email, nome, highlights importados
- Analytics: eventos de uso (anonimizados)
- NÃ£o coletado: localizaÃ§Ã£o, histÃ³rico de navegaÃ§Ã£o fora do app

---

## 11. RISCOS E MITIGAÃ‡Ã•ES

| Risco | Probabilidade | Impacto | MitigaÃ§Ã£o |
|-------|---------------|---------|-----------|
| Parser falha em formatos inesperados de MyClippings.txt | Alta | MÃ©dio | Testar com dezenas de arquivos reais; permitir report de erros; fallback manual |
| UsuÃ¡rios nÃ£o entendem sistema de repetiÃ§Ã£o espaÃ§ada | MÃ©dia | Alto | Tutorial interativo; tooltips explicativos; FAQ dedicada |
| Performance ruim com >10k highlights | Baixa | Alto | PaginaÃ§Ã£o; lazy loading; Ã­ndices de banco otimizados |
| Custo de storage de capas escala rÃ¡pido | Baixa | MÃ©dio | Comprimir imagens no upload; limitar tamanho por usuÃ¡rio |
| UsuÃ¡rios esperam integraÃ§Ã£o com Anki | MÃ©dia | Baixo | Comunicar claramente no marketing que Ã© sistema independente |

---

## 12. OPEN QUESTIONS

1. **MonetizaÃ§Ã£o:** SerÃ¡ gratuito eternamente ou haverÃ¡ plano pago? Se sim, quais features premium?
2. **Limites Free Tier:** Quantos highlights/livros por usuÃ¡rio gratuito?
3. **InternacionalizaÃ§Ã£o:** LanÃ§ar apenas em PT-BR ou incluir EN desde MVP?
4. **Mobile App:** PWA ou native app nativo no futuro?
5. **Marca e Nome:** "Kindle Highlights Manager" Ã© provisÃ³rio. Nome definitivo?

---

## 13. CONCLUSÃƒO

Este PRD define um produto robusto, esteticamente moderno e funcionalmente completo para gerenciamento e estudo de highlights do Kindle. A proposta combina simplicidade de uso com poder de funcionalidades, oferecendo uma alternativa integrada e superior ao workflow fragmentado atual (Kindle â†’ MyClippings.txt â†’ Anki).

Com uma tech stack acessÃ­vel (Next.js + Supabase) e um roadmap pragmÃ¡tico, o MVP pode ser desenvolvido em 8 semanas, entregando valor imediato aos usuÃ¡rios e estabelecendo uma base sÃ³lida para evoluÃ§Ã£o futura.

**PrÃ³ximos Passos:**
1. Validar PRD com stakeholders
2. Definir priorizaÃ§Ã£o final de features do MVP
3. Iniciar design de alta fidelidade (Figma)
4. Setup do ambiente de desenvolvimento
5. Sprint 1: AutenticaÃ§Ã£o + Setup do banco

---

**AprovaÃ§Ã£o:**

[ ] Product Owner  
[ ] Tech Lead  
[ ] Design Lead  

Data: ___/___/______